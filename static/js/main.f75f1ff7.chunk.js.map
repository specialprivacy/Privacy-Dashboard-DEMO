{"version":3,"sources":["registerServiceWorker.js","views/MainMenu.js","views/Startpage.js","views/pages/subpages/MyProfile.js","views/pages/subpages/Controller.js","views/pages/subpages/MapView.js","views/pages/subpages/TvView.js","views/pages/subpages/BrowsingView.js","views/pages/subpages/MyData.js","util/VocabLabelsGenerator.js","views/pages/subpages/ActivityLog.js","views/pages/subpages/Permissions.js","views/pages/subpages/Help.js","views/pages/subpages/Faq.js","views/pages/subpages/DpoView.js","views/dialogs/MessageDialog.js","views/MainView.js","views/dialogs/MessageSectionDialog.js","App.js","views/LoginForm.js","themes/specialTheme.js","themes/proximusTheme.js","themes/tlabsTheme.js","themes/reutersTheme.js","AppContainer.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","MainMenu","tabStyle","background","width","padding","color","borderRadius","border","router","name","entries","label","icon","hash","badge","this","props","application","apiKey","push","href","id","className","backToAppUrl","leftIcon","primaryText","onClick","style","map","group","key","generateRandomKey","entry","rightIcon","badgeContent","primary","hasOwnProperty","ref","overflowX","tabItemContainerStyle","inkBarStyle","display","onActive","tab","Component","Startpage","marginTop","containerStyle","paddingBottom","src","alt","marginBottom","MyProfile","self","user","JSON","parse","atob","localStorage","getItem","split","subject","columns","selector","sortable","compact","allowOverflow","wrap","expandable","avatar","showExpandableButton","title","subtitle","selectable","displayRowCheckbox","interestProfile","dataCategory","pagination","striped","highlightOnHover","data","keywords","keyword","menu","basedOn","renderEntity","entity","legalName","tooltip","role","tooltipPosition","tooltipStyles","fontSize","iconStyle","description","slice","join","actAsExpander","logo","website","target","rel","contactEmail","privacyPolicy","Object","values","dpoContact","filter","e","startsWith","Controller","expanded","controllerInfo","request","require","MapView","windowSize","locationData","loading","openCard","newExpandedState","loadExtraInfo","page","totalRows","setState","forceUpdate","setTimeout","itemsProcessed","tmpArray","sort","a","b","instanceData","timestamp","forEach","logEntry","callback","options","method","url","qs","format","lat","lon","err","res","body","getLocationInfo","locationInfo","extraInfo","onExpandChange","mode","Intl","NumberFormat","length","float","size","marginLeft","maxWidth","paginationServer","paginationPerPage","paginationTotalRows","paginationRowsPerPageOptions","onChangePage","onRowClicked","refs","leafletElement","panTo","originalEntry","dateObj","Date","date","toLocaleDateString","toLocaleTimeString","streetName","display_name","Map","center","zoom","zoomControl","height","boxShadow","TileLayer","attribution","Marker","position","Polyline","positions","TvView","tvData","filteredData","watched_on","backendUrl","headers","defaultHeaders","movie","movie_title","success","result","total_results","results","getMovieInfo","movieInfo","concat","overflow","textStyle","whiteSpace","textOverflow","fontWeight","poster_path","overview","duration","ip_address","margin","BrowsingView","browsingData","URL","origin","getWebInfo","webInfo","img","toLocaleString","paddingTop","MyData","hasLocationData","hasTVData","hasBrowsingData","storage","processing","purpose","recipient","getLabel","upperCase","replace","charAt","toLocaleUpperCase","event2text","p","profile","controllerStatemment","raw","intro","linebreak","Array","isArray","arr","processingString","dataString","purposeString","storageString","recipientString","instanceDataToText","keys","stringify","ActivityLog","from","fromDay","toDay","toISOString","numYears","day","reduce","wasInside","i","value","to","emptyColor","colors","top","right","bottom","left","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","anchor","direction","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","expandableRows","expandableRowsComponent","Permissions","open","policy","policies","syncConsent","attribute","json","originalElement","minWidth","grow","dataCategories","dialogOpener","permissionToggle","consent","defaultToggled","onToggle","event","isInputChecked","msg","toggleMessage","policyText","onRequestClose","autoScrollBodyContent","contentStyle","innerWidth","actions","Help","Faq","DpoView","requests","dataSubject","concernedPersonalData","text","textAlign","secondary","requestTypes","MessageDialog","sendMessage","now","message","document","getElementById","messageLogEntry","type","typeId","addToData","toggleSnackbar","messageOpen","handleMessageDialoge","cancelCallback","okCallback","floatingLabelText","multiLine","fullWidth","rows","rowsMax","defaultValue","MainView","snackbarOpen","snackbarMessage","messageSubject","messageText","messageOkCallback","messageCancelCallback","okFn","cnFn","formulateMessage","handleMessageDialog","handleSnackbar","sw","content","toDateString","GdprActionsMenu","iconButtonElement","marginRight","targetOrigin","horizontal","vertical","anchorOrigin","useLayerForClickAway","bind","onhashchange","pages","element","showMenuIconButton","iconElementRight","appBarMenu","autoHideDuration","MessageSection","selectedItem","xsToggleClass","flag","classList","add","remove","selectItem","index","renderListItem","secondaryText","leftAvatar","toUpperCase","renderCardItem","messages","answers","unAnsweredMessages","answeredMessages","messageSectionOpen","toggleMessageSectionOpen","indexOf","theme","palette","primary1Color","App","numberMessages","showMessageBadge","AppBarMenu","badgeStyle","zIndex","setLoggedIn","errorMsg","LoginForm","btnDisabled","signIn","email","input","password","username","handleTextInput","maxHeight","hintText","onChange","disabled","spacing","fontFamily","accent1Color","textColor","darkBlack","secondaryTextColor","fade","alternateTextColor","white","canvasColor","borderColor","grey300","disabledColor","pickerHeaderColor","cyan500","clockCircleColor","shadowColor","fullBlack","specialTheme","themes","special","proximus","proximusTheme","tlabs","tlabsTheme","reuters","reutersTheme","urlParams","URLSearchParams","search","get","appUrl","AppContainer","loggedIn","getInterestProfile","getApplication","getPolicies","token","setItem","Authorization","removeItem","muiTheme","getMuiTheme","dec2hex","dec","toString","substr","Uint8Array","crypto","getRandomValues","ReactDOM","render","process","addEventListener","fetch","response","status","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.f75f1ff7.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport List from \"material-ui/List\";\r\nimport ListItem from \"material-ui/List/ListItem\";\r\nimport Subheader from \"material-ui/Subheader\";\r\nimport Card from \"material-ui/Card\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport Tabs from \"material-ui/Tabs\";\r\nimport Tab from \"material-ui/Tabs/Tab\";\r\nimport Badge from \"material-ui/Badge\";\r\nimport Divider from \"material-ui/Divider\";\r\n\r\nimport \"../styles/MainMenu.css\";\r\n\r\nimport Startpage from \"material-ui/svg-icons/action/home\";\r\nimport MyProfile from \"material-ui/svg-icons/action/account-circle\";\r\nimport Controller from \"material-ui/svg-icons/communication/business\";\r\nimport MyData from \"material-ui/svg-icons/action/assignment-ind\";\r\nimport Log from \"material-ui/svg-icons/action/list\";\r\nimport Permissions from \"material-ui/svg-icons/action/gavel\";\r\nimport BackIcon from \"material-ui/svg-icons/navigation/arrow-back\";\r\n// import Help from \"material-ui/svg-icons/action/help\";\r\n// import Faq from \"material-ui/svg-icons/communication/live-help\";\r\nimport ExitToApp from \"material-ui/svg-icons/action/exit-to-app\";\r\n\r\nimport { generateRandomKey, backToAppUrl, apiKey } from \"../AppContainer\";\r\n\r\nclass MainMenu extends Component {\r\n\r\n  render() {\r\n    const startHash = \"#start\"\r\n    const tabStyle = {\r\n      background: \"white\", \r\n      width: \"auto\", \r\n      padding: \"0 20px\", \r\n      color: \"black\", \r\n      borderRadius: \"0 0 10px 10px\", \r\n      border: \"0 2px 2px 0 solid lightgrey\"\r\n    };\r\n\r\n    var router = [{\r\n      name: \"About\", \r\n      entries: [\r\n        {label: \"My profile\", icon: <MyProfile/>, hash: \"#profile\", badge: false},\r\n        {label: (this.props.application === null) ? \"About\": \"About \" + this.props.application.name, icon: <Controller />, hash: \"#controller\", badge: false},\r\n    ]}, {\r\n      name: \"My personal data\",\r\n      entries: [\r\n        {label: \"My data\", icon: <MyData/>, hash: \"#data\", badge: false},\r\n        {label: \"My activity log\", icon: <Log/>, hash: \"#log\", badge: false},\r\n        {label: \"My permissions\", icon: <Permissions/>, hash: \"#permissions\", badge: false},\r\n    ]}, /*{\r\n      name: \"Guide\",\r\n      entries: [\r\n        {label: \"Help\", icon: <Help/>, hash: \"#help\", badge: false},\r\n        {label: \"FAQ\", icon: <Faq/>, hash: \"#faq\", badge: false},\r\n    ]}*/]\r\n\r\n    if (apiKey === \"38895e56-554f-4ca0-ab1c-4716482d2882\") {\r\n      router[0].entries.push({label: \"Go to MyProximus\", icon: <ExitToApp/>, href: \"https://www.proximus.be/login\", badge: false})\r\n    }\r\n\r\n    return (\r\n      <div id=\"main-menu\">\r\n        <Card className=\"d-none d-lg-block d-xl-block\">\r\n          <CardText>\r\n            <List>\r\n              {\r\n                (backToAppUrl) ? \r\n                  <ListItem\r\n                    leftIcon={<BackIcon/>}\r\n                    primaryText=\"Back to app\"\r\n                    onClick={() => window.location.href = backToAppUrl}\r\n                    style={{borderRadius: \"20px\"}}\r\n                  /> :\r\n                  <div></div>\r\n              }\r\n              <ListItem\r\n                leftIcon={<Startpage/>}\r\n                primaryText=\"Home\"\r\n                onClick={() => window.location.hash = startHash}\r\n                style={{borderRadius: \"20px\"}}\r\n              />\r\n              {\r\n                router.map((group) => {\r\n                  return (\r\n                    <div key={generateRandomKey()}>\r\n                      <Subheader>{group.name}</Subheader>\r\n                      <Divider/>\r\n                      {\r\n                        group.entries.map((entry) => {\r\n                          return (\r\n                            <ListItem\r\n                              key={generateRandomKey()}\r\n                              leftIcon={entry.icon}\r\n                              primaryText={entry.label}\r\n                              rightIcon={(entry.badge) ? <Badge badgeContent=\"!\" primary={true}/> : <span></span>}\r\n                              onClick={() => {\r\n                                if (entry.hasOwnProperty(\"hash\")) {\r\n                                  window.location.hash = entry.hash;\r\n                                } else if (entry.hasOwnProperty(\"href\")) {\r\n                                  window.location.href = entry.href;\r\n                                }\r\n                              }}\r\n                              style={{borderRadius: \"20px\"}}\r\n                            />\r\n                          )\r\n                        })\r\n                      }\r\n                    </div>     \r\n                  )\r\n                })\r\n              }\r\n            </List>\r\n          </CardText>\r\n        </Card>\r\n\r\n        <Tabs \r\n          ref=\"tabs\"\r\n          className=\"d-block d-lg-none d-xl-none\" \r\n          style={{overflowX: \"scroll\"}}\r\n          tabItemContainerStyle={{background: \"#fff\"}}\r\n          inkBarStyle={{display: \"none\"}}>\r\n            <Tab \r\n              icon={<Startpage/>}\r\n              label=\"Home\"\r\n              onActive={(tab) => {window.location.hash = startHash;}}\r\n              style={tabStyle}\r\n            />\r\n          {\r\n            router.map((group) => {\r\n              return group.entries.map((entry) => {\r\n                return (\r\n                  <Tab \r\n                    key={generateRandomKey()}\r\n                    icon={entry.icon}\r\n                    label={entry.label} \r\n                    onActive={(tab) => {window.location.hash = entry.hash;}}\r\n                    style={tabStyle}\r\n                  />\r\n                )\r\n              })\r\n            })\r\n          }\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default MainMenu;\r\n","import React, {Component} from \"react\";\r\nimport \"../styles/Startpage.css\";\r\nimport Card from \"material-ui/Card\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport Divider from \"material-ui/Divider\";\r\n\r\nclass Startpage extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            \r\n            <div>\r\n              <Card \r\n                className=\"custom-card\" \r\n                style={{marginTop: \"20px\"}}\r\n                containerStyle={{paddingBottom: \"0px\"}}>\r\n                <CardText style={{paddingBottom: \"0px\"}}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                      <img className=\"img-fluid\" src=\"images/service-data.svg\" alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"col-md-7\">\r\n                      <h5>Check the data you provided us with!</h5>\r\n                      <Divider style={{marginTop: \"10px\", marginBottom: \"10px\"}}/>\r\n                      <p>You had to disclose certain personal information when signing up for this service.\r\n                      This dashboard helps you to manage the information you provided us with when signing up for the service.</p>\r\n                      <p style={{marginBottom: \"0\"}}>This information might be:</p>\r\n                      <ul>\r\n                        <li>email address, username and password.</li>\r\n                        <li>real name and physical address</li>\r\n                        <li>date of birth.</li>\r\n                        <li>bank account information.</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </CardText>\r\n              </Card>\r\n            </div>\r\n\r\n            <div>\r\n              <Card \r\n                className=\"custom-card\" \r\n                style={{marginTop: \"20px\"}}\r\n                containerStyle={{paddingBottom: \"0px\"}}>\r\n                <CardText style={{paddingBottom: \"0px\"}}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                      <img className=\"img-fluid\" src=\"images/derived-data.svg\" alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"col-md-7\">\r\n                      <h5>Learn about the data we process while you're using our service.</h5>\r\n                      <Divider style={{marginTop: \"10px\", marginBottom: \"10px\"}}/>\r\n                      <p>When using the service and interacting with its features, you produce data we process.\r\n                      We might also use data from other data sources for the service provision. Learn all about it in this dashboard.</p>\r\n                      <p style={{marginBottom: \"0\"}}>Your personal data is:</p>\r\n                      <ul>\r\n                        <li>processed when using this service.</li>\r\n                        <li>obtained from other sources, e.g. services if you gave us permission.</li>\r\n                        <li>derived from your personal data.</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </CardText>\r\n              </Card>\r\n            </div>\r\n\r\n            <div>\r\n              <Card \r\n                className=\"custom-card\" \r\n                style={{marginTop: \"20px\"}}\r\n                containerStyle={{paddingBottom: \"0px\"}}>\r\n                <CardText style={{paddingBottom: \"0px\"}}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                      <img className=\"img-fluid\" src=\"images/permissions.svg\" alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"col-md-7\">\r\n                      <h5>Understand what you agreed with!</h5>\r\n                      <Divider style={{marginTop: \"10px\", marginBottom: \"10px\"}}/>\r\n                      <p>Terms and conditions, privacy policies and notices over notices, you dutifully agreed.\r\n                      Understand what you agree with and express your disagreement when necessary.</p>\r\n                      <p style={{marginBottom: \"0\"}}>This dashboard allows you to:</p>\r\n                      <ul>\r\n                        <li>... disagree with certain processing practices, while still being able to use the service.</li>\r\n                        <li>... give permission to process your personal data.</li>\r\n                        <li>... revoke permission to process your personal data.</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </CardText>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Startpage;\r\n","import React, {Component} from \"react\";\r\n\r\nimport Table from \"material-ui/Table\";\r\nimport TableBody from \"material-ui/Table/TableBody\";\r\nimport TableRow from \"material-ui/Table/TableRow\";\r\nimport TableRowColumn from \"material-ui/Table/TableRowColumn\";\r\nimport Card from \"material-ui/Card/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport { apiKey, generateRandomKey } from \"../../../AppContainer\";\r\nimport DataTable from \"react-data-table-component\";\r\n\r\nclass MyProfile extends Component {\r\n  render() {\r\n    const self = this;\r\n\r\n    const user = JSON.parse(atob(window.localStorage.getItem(apiKey + \":token\").split(\".\")[1])).subject;\r\n\r\n    const columns = [\r\n      { name: \"Keyword\", selector: \"keyword\", sortable: false, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"\", selector: \"menu\", sortable: false, compact: true, allowOverflow: false, wrap: true },\r\n    ];    \r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <Card \r\n            className=\"custom-card\" \r\n            expandable={true} \r\n            style={{marginTop: \"20px\"}}>\r\n            <CardHeader\r\n              avatar=\"images/credentialsAvatar.png\"\r\n              showExpandableButton={true}\r\n              title={\r\n                <div>\r\n                  <h4>Account credentials</h4>\r\n                </div>\r\n              }\r\n              subtitle={<span>Your username (in this case: email address) and password.\r\n              </span>}>\r\n            </CardHeader>\r\n            <CardText expandable={true}>\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <Table selectable={false}>\r\n                    <TableBody displayRowCheckbox={false}>\r\n                      <TableRow>\r\n                        <TableRowColumn>Email address:</TableRowColumn>\r\n                        <TableRowColumn><b>{user}</b></TableRowColumn>\r\n                      </TableRow>\r\n                      <TableRow>\r\n                        <TableRowColumn>Password:</TableRowColumn>\r\n                        <TableRowColumn>***</TableRowColumn>\r\n                      </TableRow>\r\n                    </TableBody>\r\n                  </Table>                \r\n                </div>\r\n              </div>\r\n            </CardText>\r\n          </Card>\r\n          \r\n          {\r\n            (this.props.interestProfile) ?\r\n              <Card \r\n                className=\"custom-card\" \r\n                expandable={true} \r\n                style={{marginTop: \"20px\"}}>\r\n                <CardHeader\r\n                  avatar=\"images/profileAvatar.png\"\r\n                  showExpandableButton={true}\r\n                  title={\r\n                    <div>\r\n                      <h4>Derived interest profile</h4>\r\n                    </div>\r\n                  }\r\n                  subtitle={<span>Preferences based on your personal data\r\n                  </span>}>\r\n                </CardHeader>\r\n                <CardText expandable={true}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      {\r\n                        (this.props.interestProfile === null) ?\r\n                          <div></div> :\r\n                          this.props.interestProfile\r\n                            .map((group) => {\r\n                              return (\r\n                                <DataTable\r\n                                  key={generateRandomKey()}\r\n                                  title={<span>Based on {group.dataCategory} information</span>}\r\n                                  pagination={true}\r\n                                  striped={true}\r\n                                  highlightOnHover={true}\r\n                                  columns={columns}\r\n                                  data={\r\n                                    group.keywords\r\n                                      .map((keyword) => {\r\n                                        return {\r\n                                          keyword: keyword.label,\r\n                                          menu: self.props.menu({\r\n                                            \"data\": \"http://www.specialprivacy.eu/vocabs/data#Profile\",\r\n                                            \"purpose\": \"http://www.specialprivacy.eu/vocabs/purposes#Marketing\",\r\n                                            \"processing\": \"http://www.specialprivacy.eu/vocabs/processing#Derive\",\r\n                                            \"storage\": \"http://www.specialprivacy.eu/vocabs/locations#OurServers\",\r\n                                            \"recipient\": \"http://www.specialprivacy.eu/vocabs/recipients#Ours\",\r\n                                            \"instanceData\": {\r\n                                              keyword: keyword.label,\r\n                                              basedOn: group.dataCategory,\r\n                                            }                                            \r\n                                          })\r\n                                        };\r\n                                      })\r\n                                  }\r\n                                />\r\n                              )\r\n                            })\r\n\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </CardText>\r\n              </Card>\r\n            :\r\n              <div></div>\r\n          }\r\n        </div>      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyProfile;","import React, {Component} from \"react\";\r\nimport { generateRandomKey } from \"../../../AppContainer\";\r\nimport Card from \"material-ui/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport Divider from \"material-ui/Divider\";\r\nimport IconButton from \"material-ui/IconButton\";\r\nimport Helper from 'material-ui/svg-icons/action/help-outline';\r\n\r\nclass Controller extends Component {\r\n\r\n  state = {\r\n    expanded: [],\r\n  }\r\n\r\n  render() {\r\n    if (this.props.application === null ||\r\n        typeof this.props.application.controllerInfo === \"undefined\") {\r\n      return (<div></div>);\r\n    }\r\n\r\n    return (\r\n      <div style={{marginTop: \"20px\"}}>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h4>\r\n              <span className=\"headline\">Controller(s): </span>\r\n              <IconButton\r\n                tooltip={\r\n                  <span>\r\n                    Controller means the natural or legal person, public authority, agency or other body which, <br/>\r\n                    alone or jointly with others, determines the purposes and means of the processing of personal <br/>\r\n                    data; where the purposes and means of such processing are determined by Union or Member State <br/>\r\n                    law, the controller or the specific criteria for its nomination may be provided <br/>\r\n                    for by Union or Member State law.\r\n                  </span>\r\n                }\r\n                tooltipPosition=\"bottom-right\"\r\n                tooltipStyles={{fontSize: \"16px\", padding: \"16px\"}}\r\n                iconStyle={{marginTop: \"-12px\"}}\r\n              >\r\n                <Helper/>\r\n              </IconButton>\r\n            </h4>\r\n          </div>            \r\n          {this.props.application.controllerInfo.filter((e) => e.controller).map((e) => renderEntity(e))}\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h4>\r\n              <span className=\"headline\">Processor(s): </span>\r\n              <IconButton\r\n                tooltip={\r\n                  <span>\r\n                    'Processor means a natural or legal person, public authority, agency or other <br />\r\n                    body which processes personal data on behalf of the controller;\r\n                  </span>\r\n                }\r\n                tooltipPosition=\"bottom-right\"\r\n                tooltipStyles={{fontSize: \"16px\", padding: \"16px\"}}\r\n                iconStyle={{marginTop: \"-12px\"}}\r\n              >\r\n                <Helper/>\r\n              </IconButton>              \r\n            </h4>\r\n          </div>            \r\n          {this.props.application.controllerInfo.filter((e) => !e.controller).map((e) => renderEntity(e))}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction renderEntity(entity) {\r\n\r\n  return (\r\n    <div className=\"col-12\" key={generateRandomKey()}>                  \r\n      <Card className=\"custom-card\">\r\n        <CardHeader\r\n          title={<div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h4>\r\n                {entity.legalName}\r\n                <IconButton\r\n                  tooltip={\r\n                    <span>\r\n                      {entity.role}\r\n                    </span>\r\n                  }\r\n                  tooltipPosition=\"bottom-center\"\r\n                  tooltipStyles={{fontSize: \"16px\", padding: \"16px\"}}\r\n                  iconStyle={{marginTop: \"-12px\"}}\r\n                >\r\n                  <Helper/>\r\n                </IconButton>\r\n              </h4>\r\n            </div>\r\n          </div>}\r\n          subtitle={<span>{entity.description.split(\" \").slice(0, 30).join(\" \")} ... - <b>Learn more.</b></span>}\r\n          showExpandableButton={true}\r\n          actAsExpander={true}\r\n        />\r\n        <CardText\r\n          expandable={true}>\r\n          <Divider />\r\n          <div className=\"col-8 offset-2 text-center\">\r\n              <img \r\n                className=\"img-fluid\" \r\n                src={entity.logo} \r\n                title={entity.legalName} \r\n                alt={entity.legalName} \r\n                style={{padding: \"20px\"}}\r\n              />\r\n            </div>\r\n          <div className=\"col-12\">\r\n            {entity.description}\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <table className=\"table table-hover table-responsive\" style={{marginTop: \"20px\"}}>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Website:</td>\r\n                  <td>\r\n                    <a href={entity.website}title={entity.website} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      {entity.website}\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>E-Mail:</td>\r\n                  <td>\r\n                    <a href={\"mailto:\" + entity.contactEmail}title={entity.contactEmail} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      {entity.contactEmail}\r\n                    </a>                        \r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Privacy policy:</td>\r\n                  <td>\r\n                    <a href={entity.privacyPolicy}title={entity.privacyPolicy} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      {entity.privacyPolicy}\r\n                    </a>                        \r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Data protection officer:</td>\r\n                  <td>\r\n                    {\r\n                      Object.values(entity.dpoContact)\r\n                        .filter((e) => (typeof e !== \"undefined\" && e !== null && e !== \"\"))\r\n                        .map((e) => {\r\n                          if (e.startsWith(\"http\")) {\r\n                            return <span key={generateRandomKey()}><a href={e}title={e} target=\"_blank\" rel=\"noopener noreferrer\">{e}</a><br/></span>;\r\n                          } else {\r\n                            return <span key={generateRandomKey()}>{e}<br/></span>;\r\n                          }\r\n                        })\r\n                    }\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </CardText>\r\n      </Card>    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Controller;","import React, { Component } from \"react\";\r\n\r\nimport Card from \"material-ui/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\n\r\nimport {Map, TileLayer, Polyline, Marker} from \"react-leaflet\";\r\nimport {generateRandomKey} from \"../../../AppContainer\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport LinearProgress from \"material-ui/LinearProgress\";\r\nimport CircularProgress from \"material-ui/CircularProgress\";\r\n\r\nvar request = require(\"request\");\r\n\r\nexport default class MapView extends Component {\r\n\r\n  state = {\r\n    windowSize: 5,\r\n    locationData: [],\r\n    loading: false,\r\n  }\r\n\r\n  openCard = (newExpandedState) => {\r\n    if (!newExpandedState) {\r\n      return;\r\n    }\r\n\r\n    // totalsRows can have an arbitrary value here\r\n    this.loadExtraInfo(1, -1);\r\n  }\r\n\r\n  loadExtraInfo = (page, totalRows) => {\r\n    var window = page - 1;\r\n    this.setState({loading: true});\r\n    this.forceUpdate();\r\n\r\n    setTimeout(function() {\r\n      self.setState({loading: false});\r\n    }, 7500);    \r\n\r\n    const self = this;\r\n    var itemsProcessed = 0;\r\n    var tmpArray = [];\r\n    this.props.data\r\n      .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#Location\"))  \r\n      .sort((a, b) => b.instanceData.timestamp - a.instanceData.timestamp)\r\n      .slice(window * this.state.windowSize, window * this.state.windowSize + this.state.windowSize)\r\n      .forEach((e) => getLocationInfo(e, (locationInfo, logEntry) => {\r\n        itemsProcessed++;\r\n        if (locationInfo !== null) {\r\n          tmpArray.push({extraInfo: locationInfo, logEntry: logEntry});\r\n          if (itemsProcessed === self.state.windowSize) {\r\n            self.setState({locationData: tmpArray});\r\n            self.forceUpdate();\r\n            setTimeout(function() {\r\n              self.setState({loading: false});\r\n            }, 2500);\r\n          }\r\n        }\r\n      }));\r\n  }  \r\n\r\n  render() {\r\n    const self = this; \r\n\r\n    const columns = [\r\n      { name: \"Date\", selector: \"date\", sortable: true, compact: true, maxWidth: \"150px\" },\r\n      { name: \"Location\", selector: \"streetName\", sortable: true, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"\", selector: \"menu\", sortable: true, compact: true, maxWidth: \"64px\" },\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <Card \r\n          className=\"custom-card\" \r\n          expandable={true} \r\n          style={{marginTop: \"20px\"}}\r\n          onExpandChange={this.openCard}>\r\n          <LinearProgress mode=\"indeterminate\" style={{display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n          <CardHeader\r\n            avatar=\"images/locationAvatar.png\"\r\n            showExpandableButton={true}\r\n            title={\r\n              <div>\r\n                <h4>Your location information.</h4>\r\n              </div>\r\n            }\r\n            subtitle={\r\n              (this.props.interestProfile === null ||\r\n               typeof this.props.interestProfile.filter((group) => group.dataCategory === \"location\")[0] === \"undefined\") ?\r\n                <span>\r\n                  We have collected {\r\n                    new Intl.NumberFormat(\"en-US\", { style: \"decimal\"})\r\n                      .format(this.props.data\r\n                        .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#Location\"))\r\n                        .length)\r\n                    } \r\n                  &nbsp;locations.\r\n                </span> :\r\n                \"Derived keywords from your location information: \" + \r\n                this.props.interestProfile\r\n                  .filter((group) => group.dataCategory === \"location\")[0]\r\n                  .keywords.map((e) => e.label)\r\n                  .join(\", \")\r\n            }>\r\n          </CardHeader>\r\n          <CardText expandable={true}>\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <DataTable\r\n                  title={\r\n                    <h5>\r\n                      <div style={{float: \"left\"}}>Dates and locations</div>\r\n                      <CircularProgress size={20} style={{float: \"left\", marginLeft: \"20px\", display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n                    </h5>\r\n                  }\r\n                  columns={columns}\r\n                  pagination={true}\r\n                  paginationServer={true}\r\n                  paginationPerPage={5}\r\n                  paginationTotalRows={\r\n                    this.props.data\r\n                      .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#Location\"))\r\n                      .length\r\n                  }\r\n                  paginationRowsPerPageOptions={[5]}\r\n                  onChangePage={this.loadExtraInfo}\r\n                  striped={true}\r\n                  highlightOnHover={true}\r\n                  onRowClicked={(e) => {\r\n                    this.refs.map.leafletElement.panTo([e.originalEntry.logEntry.instanceData.lat, e.originalEntry.logEntry.instanceData.lon]);\r\n                  }}\r\n                  data={\r\n                    this.state.locationData\r\n                      .sort((a, b) => b.logEntry.instanceData.timestamp - a.logEntry.instanceData.timestamp)\r\n                      .map((e) => {\r\n                        var dateObj = new Date(e.logEntry.instanceData.timestamp);\r\n                        return {\r\n                          id: generateRandomKey(),\r\n                          date: dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString(),\r\n                          streetName: e.extraInfo.display_name,\r\n                          originalEntry: e,\r\n                          menu: self.props.menu(e.logEntry)\r\n                        }\r\n                      })\r\n                  }\r\n                />         \r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Map\r\n                  ref=\"map\"\r\n                  center={\r\n                    (this.state.locationData.length > 0) ? \r\n                    [this.state.locationData[0].logEntry.instanceData.lat, this.state.locationData[0].logEntry.instanceData.lon] : [0, 0]\r\n                  }\r\n                  zoom={18}\r\n                  zoomControl={true}\r\n                  style={{height: \"400px\", borderRadius: \"15px\", boxShadow: \"rgba(0, 0, 0, 0.12) 0px 1px 6px\"}}>\r\n                  <TileLayer\r\n                    url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\r\n                    attribution=\"&copy; <a href='http://osm.org/copyright'>OpenStreetMap</a> contributors\"\r\n                  />\r\n                  {\r\n                    this.state.locationData.map((e) => {\r\n                      return (\r\n                        <Marker  \r\n                          key={generateRandomKey()} \r\n                          position={[e.logEntry.instanceData.lat, e.logEntry.instanceData.lon]} \r\n                        />\r\n                      )\r\n                    })\r\n                  }\r\n                  <Polyline positions={this.state.locationData.map((e) => [e.logEntry.instanceData.lat, e.logEntry.instanceData.lon])}/>\r\n                </Map>\r\n              </div>\r\n            </div>\r\n\r\n   \r\n          </CardText>\r\n      </Card>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction getLocationInfo(logEntry, callback) {\r\n  if (!logEntry.instanceData.hasOwnProperty(\"lat\") || \r\n      !logEntry.instanceData.hasOwnProperty(\"lon\")) {\r\n        callback(null, logEntry);\r\n        return;\r\n      }\r\n\r\n  var options = {\r\n    method: \"get\",\r\n    url: \"https://nominatim.openstreetmap.org/reverse\",\r\n    qs: {\r\n      format: \"json\",\r\n      lat: logEntry.instanceData.lat,\r\n      lon: logEntry.instanceData.lon\r\n    }\r\n  }\r\n\r\n  request(options, async function(err, res, body) {\r\n    if (err) {\r\n      callback(null, logEntry);\r\n    } else {\r\n      callback(JSON.parse(body), logEntry);\r\n    }\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport Card from \"material-ui/Card\";\r\nimport CardMedia from \"material-ui/Card/CardMedia\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport { backendUrl, defaultHeaders, generateRandomKey } from \"../../../AppContainer\";\r\nimport LinearProgress from \"material-ui/LinearProgress\";\r\nimport CircularProgress from \"material-ui/CircularProgress\";\r\nimport RaisedButton from \"material-ui/RaisedButton\";\r\nimport Divider from \"material-ui/Divider\";\r\n\r\nvar request = require(\"request\");\r\n\r\nexport default class TvView extends Component {\r\n\r\n  state = {\r\n    window: 0,\r\n    windowSize: 10,\r\n    tvData: [],\r\n    loading: false,\r\n  }\r\n\r\n  loadExtraInfo = (newExpandedState) => {\r\n    if (!newExpandedState) {\r\n      return;\r\n    }\r\n\r\n    this.setState({loading: true, window: this.state.window + 1});\r\n    this.forceUpdate();\r\n\r\n    setTimeout(function() {\r\n      self.setState({loading: false});\r\n    }, 7500);    \r\n\r\n    const self = this;\r\n    var itemsProcessed = 0;\r\n    var tmpArray = [];\r\n    var filteredData = this.props.data\r\n      .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\"));\r\n    filteredData\r\n      .sort((a, b) => b.instanceData.watched_on - a.instanceData.watched_on)\r\n      .slice(this.state.window * this.state.windowSize, this.state.window * this.state.windowSize + this.state.windowSize)\r\n      .forEach((e) => getMovieInfo(e, (movieInfo, logEntry) => {\r\n        itemsProcessed++;\r\n        if (movieInfo !== null) {\r\n          tmpArray.push({extraInfo: movieInfo, logEntry: logEntry});\r\n          if (itemsProcessed === self.state.windowSize || \r\n              itemsProcessed === filteredData.length) {\r\n            self.setState({tvData: self.state.tvData.concat(tmpArray)});\r\n            self.forceUpdate();\r\n            setTimeout(function() {\r\n              self.setState({loading: false});\r\n            }, 2500);\r\n\r\n          }\r\n        }\r\n      }));\r\n  }\r\n\r\n  render() {\r\n    if (typeof this.props.data === \"undefined\") {\r\n      return (<div></div>);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Card \r\n          className=\"custom-card\" \r\n          expandable={true} \r\n          style={{marginTop: \"20px\"}}\r\n          onExpandChange={this.loadExtraInfo}\r\n          >\r\n          <LinearProgress mode=\"indeterminate\" style={{display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n          <CardHeader\r\n            avatar=\"images/tvAvatar.png\"\r\n            showExpandableButton={true}\r\n            title={\r\n              <div>\r\n                <h4>Your TV viewing information.</h4>\r\n              </div>\r\n            }\r\n            subtitle={\r\n              (this.props.interestProfile === null ||\r\n               typeof this.props.interestProfile.filter((group) => group.dataCategory === \"tv\")[0] === \"undefined\") ? \r\n                <span>\r\n                  We have collected {\r\n                    new Intl.NumberFormat(\"en-US\", { style: \"decimal\"})\r\n                      .format(this.props.data\r\n                        .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\")).length)\r\n                  } TV shows and movies you have watched.\r\n                </span> :\r\n                \"Derived keywords from your tv information: \" + \r\n                this.props.interestProfile\r\n                  .filter((group) => group.dataCategory === \"tv\")[0]\r\n                  .keywords.map((e) => e.label)\r\n                  .join(\", \")                \r\n            }>\r\n          </CardHeader>\r\n          <CardText expandable={true}>\r\n            <div className=\"row\">\r\n              {\r\n                this.state.tvData\r\n                  .sort((a, b) => b.logEntry.instanceData.watched_on - a.logEntry.instanceData.watched_on)\r\n                  .map((e) => {\r\n                    return <div key={generateRandomKey()} className=\"col-md-6 col-lg-4 col-xl-3\" style={{marginBottom: \"20px\"}}>\r\n                        <Card>\r\n                          <CardHeader\r\n                            style={{overflow: \"hidden\"}}\r\n                            textStyle={{display: \"block\"}}\r\n                            title={\r\n                              <div style={{display: \"block\"}}>\r\n                                <div \r\n                                  style={{\r\n                                    width: \"100%\", \r\n                                    whiteSpace: \"nowrap\", \r\n                                    overflow: \"hidden\", \r\n                                    textOverflow: \"ellipsis\",\r\n                                    fontWeight: \"bold\",\r\n                                  }}>\r\n                                    {e.extraInfo.title}\r\n                                  </div>\r\n                                <div style={{float: \"right\"}}>{this.props.menu(e.logEntry)}</div>\r\n                              </div>\r\n                            }\r\n                          />\r\n                          <CardMedia>\r\n                            <img src={\"https://image.tmdb.org/t/p/w500/\" + e.extraInfo.poster_path} title={e.extraInfo.title} alt={e.extraInfo.title} />\r\n                          </CardMedia>\r\n                          <CardText>\r\n                            {e.extraInfo.overview.split(\" \").slice(0, 30).join(\" \") + \" ...\"}\r\n                            <Divider style={{marginTop: \"20px\", marginBottom: \"20px\"}}/>\r\n                            <div>Watched on: {new Date(e.logEntry.instanceData.watched_on).toLocaleDateString() + \" \" + new Date(e.logEntry.instanceData.watched_on).toLocaleTimeString()}</div>\r\n                            <div>For: {e.logEntry.instanceData.duration / 100} minutes</div>\r\n                            <div>From IP: {e.logEntry.instanceData.ip_address}</div>\r\n                          </CardText>\r\n                        </Card>                  \r\n                      </div>\r\n                  })\r\n              }\r\n            </div>\r\n            <div className=\"row\">\r\n              <CircularProgress style={{margin: \"0 auto\", display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n            </div>\r\n            <div className=\"row\">\r\n              <RaisedButton \r\n                label=\"Load more\" \r\n                primary={true}\r\n                style={{margin: \"0 auto\"}}\r\n                onClick={this.loadExtraInfo}\r\n              />\r\n            </div>\r\n          </CardText>\r\n      </Card>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction getMovieInfo(logEntry, callback) {\r\n  var options = {\r\n    method: \"get\",\r\n    url: backendUrl + \"/movie\",\r\n    headers: defaultHeaders,\r\n    qs: {\r\n      movie: logEntry.instanceData.movie_title,\r\n    }\r\n  }\r\n\r\n  request(options, async function(err, res, body) {\r\n    if (err) {\r\n      return\r\n    }\r\n\r\n    body = JSON.parse(body);\r\n    \r\n    if (!body.success) {\r\n      callback(null, logEntry);\r\n    } else {\r\n      if (body.result.total_results >= 1) {\r\n        callback(body.result.results[0], logEntry);\r\n      } else {\r\n        callback(null, logEntry);\r\n      }\r\n    }\r\n  });\r\n}","import React, { Component } from \"react\";\r\n\r\nimport Card from \"material-ui/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport { generateRandomKey, backendUrl, defaultHeaders } from \"../../../AppContainer\";\r\nimport LinearProgress from \"material-ui/LinearProgress\";\r\nimport CircularProgress from \"material-ui/CircularProgress\";\r\nimport RaisedButton from \"material-ui/RaisedButton\";\r\n\r\nvar request = require(\"request\");\r\n\r\nexport default class BrowsingView extends Component {\r\n\r\n  state = {\r\n    window: 0,\r\n    windowSize: 10,\r\n    browsingData: [],\r\n    loading: false,\r\n  }\r\n\r\n  loadExtraInfo = (newExpandedState) => {\r\n    if (!newExpandedState) {\r\n      return;\r\n    }\r\n\r\n    this.setState({loading: true, window: this.state.window + 1});\r\n    this.forceUpdate();\r\n\r\n    setTimeout(function() {\r\n      self.setState({loading: false});\r\n    }, 7500);    \r\n\r\n    const self = this;\r\n    var itemsProcessed = 0;\r\n    var tmpArray = [];\r\n    var filteredData = this.props.data\r\n      .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\"));\r\n    filteredData\r\n      .sort((a, b) => b.instanceData.timestamp - a.instanceData.timestamp)\r\n      .slice(this.state.window * this.state.windowSize, this.state.window * this.state.windowSize + this.state.windowSize)\r\n      .forEach((e) => getWebInfo(e, (webInfo, logEntry) => {\r\n        itemsProcessed++;\r\n        if (webInfo !== null) {\r\n          tmpArray.push({extraInfo: webInfo, logEntry: logEntry});\r\n          if (itemsProcessed === self.state.windowSize || \r\n              itemsProcessed === filteredData.length) {\r\n            self.setState({browsingData: self.state.browsingData.concat(tmpArray)});\r\n            self.forceUpdate();\r\n            setTimeout(function() {\r\n              self.setState({loading: false});\r\n            }, 2500);\r\n          }\r\n        }\r\n      }));\r\n  }\r\n\r\n  render() {\r\n    if (typeof this.props.data === \"undefined\") {\r\n      return (<div></div>);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Card \r\n          className=\"custom-card\" \r\n          expandable={true} \r\n          style={{marginTop: \"20px\"}}\r\n          onExpandChange={this.loadExtraInfo}\r\n          >\r\n          <LinearProgress mode=\"indeterminate\" style={{display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n          <CardHeader\r\n            avatar=\"images/browsingAvatar.png\"\r\n            showExpandableButton={true}\r\n            title={\r\n              <div>\r\n                <h4>Your browsing behavior information.</h4>\r\n              </div>\r\n            }\r\n            subtitle={\r\n              (this.props.interestProfile === null ||\r\n               typeof this.props.interestProfile.filter((group) => group.dataCategory === \"browsing\")[0] === \"undefined\") ? \r\n                <span>\r\n                  We have collected {\r\n                    new Intl.NumberFormat(\"en-US\", { style: \"decimal\"})\r\n                      .format(this.props.data\r\n                        .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\")).length)\r\n                  } websites you have visited.\r\n                </span> :\r\n                \"Derived keywords from your browsing information: \" + \r\n                this.props.interestProfile\r\n                  .filter((group) => group.dataCategory === \"browsing\")[0]\r\n                  .keywords.map((e) => e.label)\r\n                  .join(\", \")\r\n            }>\r\n          </CardHeader>\r\n          <CardText expandable={true}>\r\n            <div className=\"row\">\r\n              {\r\n                this.state.browsingData\r\n                  .sort((a, b) => b.logEntry.instanceData.timestamp - a.logEntry.instanceData.timestamp)\r\n                  .map((e) => {\r\n                    var img = \"images/placeholder.png\";\r\n                    if (e.extraInfo.hasOwnProperty(\"og:image\")) {\r\n                      img = e.extraInfo[\"og:image\"];\r\n                    } else if (e.extraInfo.hasOwnProperty(\"twitter:image\")) {\r\n                      img = e.extraInfo[\"twitter:image\"];\r\n                    }\r\n                    return (\r\n                      <div \r\n                        key={generateRandomKey()} \r\n                        className=\"col-12\" \r\n                        style={{marginBottom: \"20px\"}}\r\n                        >\r\n                        <Card className=\"col-12\">\r\n                          <CardHeader\r\n                            avatar={img}\r\n                            title={<b>{e.extraInfo.title}<div style={{float: \"right\"}}>{this.props.menu(e.logEntry)}</div></b>}\r\n                            subtitle={\r\n                              <div>\r\n                                <a href={new URL(e.logEntry.instanceData.url).origin} title={e.extraInfo.title} target=\"noopener noreferrer\">\r\n                                  {new URL(e.logEntry.instanceData.url).origin}\r\n                                </a> - visited: \r\n                                <b>{new Date(e.logEntry.timestamp).toLocaleString(\"en-GB\")}</b>\r\n                              </div>\r\n                            }\r\n                          />                        \r\n                          <CardText style={{paddingTop: \"0\", paddingBottom: \"10px\"}}>\r\n                            {e.extraInfo.description}\r\n                          </CardText>\r\n                        </Card>                  \r\n                      </div>\r\n                  )})\r\n              }\r\n            </div>\r\n            <div className=\"row\">\r\n              <CircularProgress style={{margin: \"0 auto\", display: (this.state.loading) ? \"block\" : \"none\"}} />\r\n            </div>\r\n            <div className=\"row\">\r\n              <RaisedButton \r\n                label=\"Load more\" \r\n                primary={true}\r\n                style={{margin: \"0 auto\"}}\r\n                onClick={this.loadExtraInfo}\r\n              />\r\n            </div>            \r\n          </CardText>\r\n      </Card>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction getWebInfo(logEntry, callback) {\r\n  \r\n  var options = {\r\n    method: \"get\",\r\n    url: backendUrl + \"/link\",\r\n    headers: defaultHeaders,\r\n    qs: {\r\n      url: new URL(logEntry.instanceData.url).origin,\r\n    }\r\n  }\r\n\r\n  request(options, async function(err, res, body) {\r\n    if (err) {\r\n      return\r\n    }\r\n\r\n    body = JSON.parse(body);\r\n    \r\n    if (!body.success) {\r\n      callback(null, logEntry);\r\n    } else {\r\n      callback(body.result, logEntry);\r\n    }\r\n  });\r\n}\r\n","import React, {Component} from \"react\";\r\nimport MapView from \"./MapView\";\r\nimport TvView from \"./TvView\";\r\nimport BrowsingView from \"./BrowsingView\";\r\n// import Divider from \"material-ui/Divider\";\r\n\r\n\r\nclass MyData extends Component {\r\n\r\n  state = {\r\n  }\r\n\r\n  render() {\r\n    var hasLocationData = (this.props.data.filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#Location\")).length > 0);\r\n    var hasTVData = (this.props.data.filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\")).length > 0);\r\n    var hasBrowsingData = (this.props.data.filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\")).length > 0);\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n\r\n          {\r\n            (hasLocationData) ? \r\n              <MapView \r\n                data={this.props.data} \r\n                interestProfile={this.props.interestProfile} \r\n                menu={this.props.menu}\r\n              /> : \r\n              <div></div>\r\n          }\r\n          \r\n          {\r\n            (hasTVData) ? \r\n              <TvView \r\n                data={this.props.data} \r\n                interestProfile={this.props.interestProfile} \r\n                menu={this.props.menu}\r\n              /> : \r\n              <div></div>\r\n          }\r\n          \r\n          {\r\n            (hasBrowsingData) ? \r\n              <BrowsingView \r\n                data={this.props.data} \r\n                interestProfile={this.props.interestProfile} \r\n                menu={this.props.menu}\r\n              /> : \r\n              <div></div>\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyData;","import React from 'react';\r\n\r\nexport const data = {\r\n  \"http://www.specialprivacy.eu/vocabs/data#Activity\": \"activity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Anonymized\": \"anonymized\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\": \"audiovisual activity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Computer\": \"computer\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Content\": \"content\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Demographic\": \"demographic\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Derived\": \"derived\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Financial\": \"financial\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Government\": \"governmental\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Health\": \"health\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Interactive\": \"interactivity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Judicial\": \"judicial\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Location\": \"location\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Navigation\": \"navigation\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Online\": \"online\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\": \"online activity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Physical\": \"physical\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#PhysicalActivity\": \"physical activity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Political\": \"political\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Preference\": \"preference\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Profile\": \"profile\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Purchase\": \"purchase\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Social\": \"social\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#State\": \"state\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Statistical\": \"statistical\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#TelecomActivity\": \"telecommunication activity\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#UniqueId\": \"unique identifier\",\r\n  \"http://www.specialprivacy.eu/vocabs/data#Message\": \"message\",\r\n};\r\n\r\nexport const storage = {\r\n  \"http://www.specialprivacy.eu/vocabs/locations#EU\": \"the European Union\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#EULike\": \"countries in the European Economic Area\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#ThirdCountries\": \"countries outside the European Union and the European Economic Area\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#ControllerServers\": \"the controller's servers\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#OurServers\": \"the controller's or processor's servers\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#ProcessorServers\": \"the processor's servers\",\r\n  \"http://www.specialprivacy.eu/vocabs/locations#ThirdParty\": \"servers not belonging to the controller or processors\",\r\n};\r\n\r\nexport const processing = {\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Aggregate\": \"aggregate\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Analyze\": \"analyze\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Anonymize\": \"anonymize\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Collect\": \"collect\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Copy\": \"copy\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Derive\": \"derive\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Move\": \"move\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Query\": \"query\",\r\n  \"http://www.specialprivacy.eu/vocabs/processing#Transfer\": \"transfer\",\r\n};\r\n\r\nexport const purpose = {\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Account\": \"accounting\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Admin\": \"administrative\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Arts\": \"arts\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#AuxPurpose\": \"auxiliary\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Browsing\": \"browsing\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Charity\": \"charity\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Communicate\": \"communication\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Custom\": \"customization\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Delivery\": \"delivery\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Develop\": \"development\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Downloads\": \"downloading\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Education\": \"educational\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Feedback\": \"feedback\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Finmgt\": \"financial management\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Gambling\": \"gambling\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Gaming\": \"gaming\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Government\": \"governmental\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Health\": \"health\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Historical\": \"historical\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Login\": \"login\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Marketing\": \"marketing\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#News\": \"news\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#OtherContact\": \"other contacting\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Payment\": \"payment\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Sales\": \"sales\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Search\": \"search\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#State\": \"state\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Tailoring\": \"tailoring\",\r\n  \"http://www.specialprivacy.eu/vocabs/purposes#Telemarketing\": \"telemarketing\",\r\n};\r\n\r\nexport const recipient = {\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#Delivery\": \"delivery services\",\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#Same\": \"legal entities following the controller's practices\",\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#OtherRecipient\": \"legal entities following different practices\",\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#Ours\": \"the controller, legal entities that act as the controller's agent or vice versa\",\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#Public\": \"public fora\",\r\n  \"http://www.specialprivacy.eu/vocabs/recipients#Unrelated\": \"unrelated third parties\",\r\n};\r\n\r\nexport function getLabel(key, upperCase) {\r\n  key = key.replace(\"https:\", \"http:\");\r\n  var result = \"\";\r\n\r\n  if (data.hasOwnProperty(key)) {\r\n    result = data[key];\r\n  } else if (storage.hasOwnProperty(key)) {\r\n    result = storage[key];\r\n  } else if (processing.hasOwnProperty(key)) {\r\n    result = processing[key];\r\n  } else if (purpose.hasOwnProperty(key)) {\r\n    result = purpose[key];\r\n  } else if (recipient.hasOwnProperty(key)) {\r\n    result = recipient[key];\r\n  }\r\n\r\n  if (upperCase) {\r\n    return result.charAt(0).toLocaleUpperCase() + result.slice(1);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function event2text(p, profile, controllerStatemment, raw) {\r\n\r\n  var intro;\r\n  if (profile === \"policy\") {\r\n    if (controllerStatemment) {\r\n      intro = \"The controller is able to \";\r\n    } else {\r\n      intro = \"Permission to \";\r\n    }\r\n  } else {\r\n    if (controllerStatemment) {\r\n      intro = \"We did \";\r\n    } else {\r\n      intro = \"You do \"; // TODO: this case makes no real sense, added for the sake of completeness\r\n    }\r\n  }\r\n\r\n  var linebreak = false;\r\n  for (let key of [\"data\", \"purpose\", \"processing\", \"storage\", \"recipient\"]) {\r\n    if (Array.isArray(p[key])) {\r\n      var arr = p[key].map((e) => getLabel(e));\r\n      if (arr.length === 1) {\r\n        p[key + \"String\"] = arr[0];\r\n      } else if (arr.length === 2) {\r\n        linebreak = true;\r\n        p[key + \"String\"] = arr[0] + \" and \" + arr[1];\r\n      } else {\r\n        linebreak = true;\r\n        p[key + \"String\"] = arr.slice(0, arr.length-2).join(\", \") + \" and \" + arr.slice(arr.length-1);\r\n      }\r\n    } else {\r\n      p[key + \"String\"] = getLabel(p[key]);\r\n    }\r\n  }\r\n\r\n  if (raw) {\r\n    let content = \r\n      intro \r\n      + p.processingString \r\n      + ((controllerStatemment) ? \" your \" : \" my \")\r\n      + p.dataString \r\n      + \" data for \"\r\n      + p.purposeString\r\n      + \" purposes, \"\r\n      + ((linebreak) ? \"\\r\\n\" : \"\")\r\n      + \"stored in \"\r\n      + p.storageString\r\n      + \" shared with \" \r\n      + p.recipientString \r\n      + \".\";    \r\n    return content;\r\n  }  \r\n\r\n  var content = \"\";\r\n  if (linebreak) {\r\n    content = <span>\r\n      <p>{intro}<b>{p.processingString}</b> your <b>{p.dataString}</b> data for <b>{p.purposeString}</b> purposes,</p>\r\n      <p>stored in <b>{p.storageString}</b> and shared with <b>{p.recipientString}</b>.</p>\r\n    </span>\r\n  } else {\r\n    content = <span>\r\n      {intro}<b>{p.processingString}</b> your <b>{p.dataString}</b> data for <b>{p.purposeString}</b> purposes,\r\n      stored in <b>{p.storageString}</b> and shared with <b>{p.recipientString}</b>.\r\n    </span>\r\n  }\r\n\r\n  return (content);\r\n}\r\n\r\nexport function instanceDataToText(instanceData) {\r\n  return (\r\n    Object.keys(instanceData)\r\n      .map((key) => {\r\n        return key + \": \" + JSON.stringify(instanceData[key]);\r\n      }).join(\"\\r\\n\")\r\n  );\r\n};","import React, {Component} from \"react\";\r\nimport { generateRandomKey } from \"../../../AppContainer\";\r\nimport { getLabel } from \"../../../util/VocabLabelsGenerator\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport JSONPretty from \"react-json-pretty\";\r\nimport Card from \"material-ui/Card/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport { ResponsiveCalendar } from \"@nivo/calendar\";\r\n\r\nclass ActivityLog extends Component {  \r\n  render() {\r\n    const self = this;\r\n\r\n    const columns = [\r\n      { name: \"Date\", selector: \"date\", sortable: true, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"Data\", selector: \"data\", sortable: true, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"Purpose\", selector: \"purpose\", sortable: true, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"Processing\", selector: \"processing\", sortable: true, compact: true, allowOverflow: false, wrap: true },\r\n      { name: \"Storage\", selector: \"storage\", sortable: true, allowOverflow: false, wrap: true },\r\n      { name: \"Recipient\", selector: \"recipient\", sortable: true, allowOverflow: false, wrap: true },\r\n    ];\r\n\r\n    const ExpanableComponent = ({ data }) => <JSONPretty data={data.instanceData}></JSONPretty>;\r\n\r\n    var from = this.props.data.sort((a, b) => a.timestamp - b.timestamp);\r\n    var fromDay = \"\";\r\n    var toDay = \"\";\r\n    if (from.length > 0) {\r\n      toDay = new Date(from[from.length-1].timestamp).toISOString().split(\"T\")[0];\r\n      fromDay = new Date(from[0].timestamp).toISOString().split(\"T\")[0];\r\n    }    \r\n\r\n    var numYears = toDay.split(\"-\")[0] - fromDay.split(\"-\")[0] + 1;\r\n  \r\n    return (\r\n      <div>\r\n        <Card \r\n          className=\"custom-card\" \r\n          expandable={true} \r\n          style={{marginTop: \"20px\"}}>\r\n          <CardHeader\r\n            avatar=\"images/heatMapAvatar.png\"\r\n            showExpandableButton={true}\r\n            title={\r\n              <div>\r\n                <h4>Activity heat map</h4>\r\n              </div>\r\n            }\r\n            subtitle={<span>Learn on which days your personal data has been processed how many times.</span>}>\r\n          </CardHeader>\r\n          <CardText expandable={true}>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <div style={{height: numYears * 200 + \"px\"}}>\r\n                  <ResponsiveCalendar\r\n                    data={\r\n                      this.props.data\r\n                        .map((entry) => {\r\n                          let date = new Date(entry.timestamp);\r\n                          let day = date.toISOString().split(\"T\")[0]\r\n                          return {\r\n                            day: day,\r\n                          };\r\n                        }).reduce((result, day) => {\r\n                          let wasInside = false;\r\n                          for (var i=0; i < result.length; i++) {\r\n                            if (result[i].day === day.day) {\r\n                              result[i].value += 1;\r\n                              wasInside = true;\r\n                            }\r\n                          }\r\n                          if (!wasInside) {\r\n                            result.push({day: day.day, value: 1});\r\n                          }\r\n                          return result;\r\n                        }, [])\r\n                    }\r\n                    from={fromDay}\r\n                    to={toDay}\r\n                    emptyColor=\"#eeeeee\"\r\n                    colors={[ \"#61cdbb\", \"#97e3d5\", \"#e8c1a0\", \"#f47560\" ]}\r\n                    margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\r\n                    yearSpacing={40}\r\n                    monthBorderColor=\"#ffffff\"\r\n                    dayBorderWidth={2}\r\n                    dayBorderColor=\"#ffffff\"\r\n                    legends={[{\r\n                      anchor: \"bottom\",\r\n                      direction: \"row\",\r\n                      translateY: 36,\r\n                      itemCount: 4,\r\n                      itemWidth: 42,\r\n                      itemHeight: 36,\r\n                      itemsSpacing: 14,\r\n                      itemDirection: \"right-to-left\"\r\n                    }]}\r\n                  />            \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardText>\r\n        </Card>\r\n\r\n        <Card \r\n          className=\"custom-card\" \r\n          expandable={true} \r\n          style={{marginTop: \"20px\"}}>\r\n          <CardHeader\r\n            avatar=\"images/logAvatar.png\"\r\n            showExpandableButton={true}\r\n            title={\r\n              <div>\r\n                <h4>Activity log</h4>\r\n              </div>\r\n            }\r\n            subtitle={<span>Review the contents of the activity log.</span>}>\r\n          </CardHeader>\r\n          <CardText expandable={true}>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <DataTable\r\n                  pagination={true}\r\n                  striped={true}\r\n                  highlightOnHover={true}\r\n                  expandableRows={true}\r\n                  expandableRowsComponent={<ExpanableComponent/>}\r\n                  columns={columns}\r\n                  data={\r\n                    this.props.data\r\n                      .sort((a, b) => b.timestamp - a.timestamp)\r\n                      .map((e) => {\r\n                        var storage;\r\n                        var recipient;\r\n\r\n                        if (typeof self.props.application !== \"undefined\" &&\r\n                            self.props.application.hasOwnProperty(\"controllerInfo\")) {\r\n\r\n                              if (e.storage === \"http://www.specialprivacy.eu/vocabs/locations#OurServers\") {\r\n                                storage = \r\n                                  self.props.application.controllerInfo\r\n                                    .filter((e) => e.controller)\r\n                                    .map((e) => e.legalName)\r\n                                    .join(\", \");\r\n                              }\r\n\r\n                              if (e.recipient === \"http://www.specialprivacy.eu/vocabs/recipients#Ours\") {\r\n                                recipient = \r\n                                  self.props.application.controllerInfo\r\n                                    .filter((e) => !e.controller)\r\n                                    .map((e) => e.legalName)\r\n                                    .join(\", \");\r\n                              }\r\n                        } else {\r\n                          storage = getLabel(e.storage, true);\r\n                          recipient = getLabel(e.recipient, true);\r\n                        }\r\n\r\n                        var dateObj = new Date(e.timestamp);\r\n                        return {\r\n                          id: generateRandomKey(),\r\n                          date: dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString(),\r\n                          data: getLabel(e.data, true),\r\n                          purpose: getLabel(e.purpose, true),\r\n                          processing: getLabel(e.processing, true),\r\n                          storage: storage,\r\n                          recipient: recipient,\r\n                          instanceData: e,\r\n                        }\r\n                      })\r\n                  }\r\n                />                             \r\n              </div>\r\n            </div>\r\n          </CardText>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ActivityLog;\r\n","import React, {Component} from \"react\";\r\nimport {generateRandomKey, backendUrl, defaultHeaders} from \"../../../AppContainer\";\r\nimport { event2text } from \"../../../util/VocabLabelsGenerator\";\r\nimport Toggle from \"material-ui/Toggle\";\r\nimport IconButton from \"material-ui/IconButton\";\r\nimport Dialog from \"material-ui/Dialog\";\r\nimport FlatButton from \"material-ui/FlatButton\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport JSONPretty from \"react-json-pretty\";\r\nimport HelpIcon from \"material-ui/svg-icons/action/help-outline\";\r\nimport \"../../../styles/Permissions.css\";\r\nimport Divider from \"material-ui/Divider\";\r\n\r\nvar request = require(\"request\");\r\n\r\nclass Permissions extends Component {\r\n\r\n  state = {\r\n    open: false,\r\n    policy: null,\r\n    policies: null,\r\n  }\r\n\r\n  syncConsent = () => {\r\n    var options = {\r\n      method: \"post\",\r\n      url: backendUrl + \"/user\",\r\n      qs: {\r\n        attribute: \"consent\"\r\n      },\r\n      headers: defaultHeaders,\r\n      body: this.props.policies,\r\n      json: true,\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n      \r\n      if (!body.success) {\r\n        // TODO: implement error handling\r\n      } else {\r\n        // console.log(body.message)\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.props.policies === null) {\r\n      return <div></div>;\r\n    }\r\n\r\n    const self = this;\r\n    const columns = [\r\n      { name: \"Permission\", selector: \"permissionToggle\", sortable: false, compact: true, left: true, minWidth: \"100px\" },\r\n      { name: \"Policy\", selector: \"policyText\", sortable: true, compact: true, allowOverflow: false, wrap: true, grow: 4 },\r\n      { name: \"More\", selector: \"dialogOpener\", sortable: false, compact: true, left: true, minWidth: \"75px\", maxWidth: \"100px\" },\r\n    ];\r\n\r\n    const ExpanableComponent = ({ data }) => <JSONPretty data={data.originalElement}></JSONPretty>;\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n\r\n          <DataTable\r\n            pagination={true}\r\n            striped={true}\r\n            highlightOnHover={true}\r\n            expandableRows={true}\r\n            expandableRowsComponent={<ExpanableComponent/>}\r\n            columns={columns}\r\n            data={\r\n              this.props.policies.dataCategories\r\n                .map((e) => {\r\n                  return {\r\n                    id: generateRandomKey(),\r\n                    dialogOpener:\r\n                      <IconButton onClick={() => {this.setState({open: true, policy: e})}}>\r\n                        <HelpIcon />\r\n                      </IconButton>,\r\n                    permissionToggle: \r\n                      <Toggle\r\n                        label={(!e.consent) ? \"No \" : \"Yes\"}\r\n                        defaultToggled={e.consent}\r\n                        onToggle={(event, isInputChecked) => {\r\n                          var msg = 0;\r\n                          if (!isInputChecked) {\r\n                            msg = 1;\r\n                          }\r\n                          self.props.toggleMessage(msg, e, null,\r\n                            () => {\r\n                              e.consent = !e.consent; \r\n                              self.syncConsent();\r\n                              self.forceUpdate();  \r\n                            }, \r\n                            () => {\r\n                              // TODO: action aborted by user\r\n                            });\r\n                        }}\r\n                      />,\r\n                    policyText: event2text(e, \"policy\", true, false),\r\n                    originalElement: e,\r\n                  }\r\n                })\r\n            }      \r\n          />     \r\n        </div>\r\n        <Dialog\r\n          title=\"Learn more about this policy\"\r\n          className=\"policy-dialog\"\r\n          open={this.state.open}\r\n          onRequestClose={() => {this.setState({open: false})}}\r\n          autoScrollBodyContent={true}\r\n          contentStyle={{ width: (window.innerWidth > 992) ? \"35%\" : \"85%\", maxWidth: \"none\" }}\r\n          actions={[\r\n            <FlatButton\r\n              label=\"Close\"\r\n              primary={true}\r\n              onClick={() => {this.setState({open: false})}}\r\n            />\r\n          ]}\r\n        >\r\n          {\r\n            (this.state.policy === null) ? \r\n              <div></div> :\r\n              <div style={{paddingTop: \"20px\"}}>\r\n                <h5>Description</h5>\r\n                <Divider/>\r\n                <p>{event2text(this.state.policy, \"policy\")}</p>\r\n                <h5>What happens if I do not consent?</h5>\r\n                <Divider/>\r\n                <p>\r\n                  If you do not consent to this policy, the service provided to you might not function properly or at all.\r\n                  &nbsp;<b>Please note: </b> When choosing to withdraw consent, personal data affected by this policy won't be deleted, \r\n                  if it is used for different purposes for which consent was given from you. <br/> To delete your personal data, \r\n                  please issue a request to erasure.\r\n                </p>\r\n                <h5>Which risks are involved?</h5>\r\n                <Divider/>\r\n                <p>\r\n                  As for any data disclosure, risks are involved such as accidental data disclosure, \r\n                  unwanted disclosure of secondary information, misuse of personal data,\r\n                  unauthorized or unwanted data sharing with third parties and so on. <br />\r\n                  To prevent any of the above mentioned scenarios to happen, we apply state-of-the-art\r\n                  safeguards to protect your personal data.\r\n                </p>\r\n              </div>\r\n          }\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Permissions;\r\n","import React, {Component} from \"react\";\r\n\r\nclass Help extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Help;","import React, {Component} from \"react\";\r\n\r\nclass Faq extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Faq;","import React, {Component} from \"react\";\r\nimport { generateRandomKey } from \"../../../AppContainer\";\r\nimport Card from \"material-ui/Card\";\r\n// import CardMedia from \"material-ui/Card/CardMedia\";\r\n// import CardTitle from \"material-ui/Card/CardTitle\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport CardActions from \"material-ui/Card/CardActions\";\r\nimport FlatButton from \"material-ui/FlatButton\";\r\nimport SendIcon from \"material-ui/svg-icons/content/send\";\r\nimport ApproveIcon from \"material-ui/svg-icons/action/done\";\r\nimport DeclineIcon from \"material-ui/svg-icons/navigation/close\";\r\nimport { Divider } from \"material-ui\";\r\n\r\nclass DpoView extends Component {\r\n  state = {\r\n    requests: [{\r\n      dataSubject: \"testing2@testing.com\",\r\n      timestamp: 1566341772000,\r\n      subject: \"Erasure of personal data\",\r\n      concernedPersonalData: \"Location\",\r\n      text: \"I hereby request erasure of my location data.\",\r\n    }, {\r\n      dataSubject: \"testing3@testing.com\",\r\n      timestamp: 1566341672000,\r\n      subject: \"Rectification of personal data\",\r\n      concernedPersonalData: \"TV\",\r\n      text: \"I hereby request rectification of my TV viewing data.\",\r\n    }, {\r\n      dataSubject: \"test8@testing.com\",\r\n      timestamp: 1566341572000,\r\n      subject: \"Erasure of personal data\",\r\n      concernedPersonalData: \"Location\",\r\n      text: \"I hereby request erasure of my location data.\",\r\n    }, {\r\n      dataSubject: \"test000@testing.com\",\r\n      timestamp: 1566341472000,\r\n      subject: \"Erasure of personal data\",\r\n      concernedPersonalData: \"Location\",\r\n      text: \"I hereby request erasure of my location data.\",\r\n    }, {\r\n      dataSubject: \"user@testing.com\",\r\n      timestamp: 1566341472000,\r\n      subject: \"Withdrawl of consent\",\r\n      concernedPersonalData: \"Location\",\r\n      text: \"I hereby withdraw consent to process my location data.\",\r\n    },]\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {\r\n          this.state.requests\r\n            .map((e) => {\r\n              return (\r\n                <div key={generateRandomKey()} className=\"col-12\" style={{marginTop: \"20px\"}}>\r\n                  <Card>\r\n                    <CardHeader\r\n                      title={<b>{e.subject}</b>}\r\n                      subtitle={\r\n                        <div style={{color: \"black\"}}>\r\n                          <div><b>From: {e.dataSubject}</b></div>\r\n                          <div><b>Received: {new Date(e.timestamp).toLocaleString()}</b></div>\r\n                          <div><b>Respond until: {new Date(e.timestamp + 1000 * 60 * 60 * 24 * 30).toLocaleString()}</b></div>\r\n                          <div><b>Personal Data: {e.concernedPersonalData}</b></div>\r\n                        </div>\r\n                      }\r\n                    />                        \r\n                    <CardText>\r\n                      <Divider/>\r\n                      <div style={{margin: \"20px 0px\"}}>{e.text}</div>\r\n                      <Divider/>\r\n                    </CardText>\r\n                    <CardActions style={{textAlign: \"right\"}}>\r\n                      <FlatButton\r\n                        label=\"Send message\"\r\n                        icon={<SendIcon/>}\r\n                        secondary={true}\r\n                        onClick={() => {}}\r\n                      />\r\n                      <FlatButton\r\n                        label=\"Decline\"\r\n                        icon={<DeclineIcon/>}\r\n                        secondary={true}\r\n                        onClick={() => {}}\r\n                      />\r\n                      <FlatButton\r\n                        label=\"Approve\"\r\n                        icon={<ApproveIcon/>}\r\n                        primary={true}\r\n                        onClick={() => {}}\r\n                      />\r\n                    </CardActions>\r\n                  </Card> \r\n                </div>\r\n              )\r\n            })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DpoView;","import React, { Component } from \"react\";\r\nimport Dialog from \"material-ui/Dialog\";\r\nimport TextField from \"material-ui/TextField\";\r\nimport FlatButton from \"material-ui/FlatButton\";\r\nimport ActionSend from \"material-ui/svg-icons/content/send\";\r\nimport {backendUrl, defaultHeaders} from \"../../AppContainer\";\r\n\r\nvar request = require(\"request\");\r\nconst requestTypes = [\"Give consent\", \"Withdraw consent\", \"Request rectification\", \"Request erasure\", \"Request data portability\"];\r\n\r\nclass MessageDialog extends Component {\r\n\r\n  sendMessage = () => {\r\n    const self = this;\r\n    const logEntry = {\r\n      data: \"http://www.specialprivacy.eu/vocabs/data#Message\",\r\n      purpose: \"http://www.specialprivacy.eu/vocabs/purposes#Admin\",\r\n      processing: \"http://www.specialprivacy.eu/vocabs/processing#Transfer\",\r\n      storage: \"http://www.specialprivacy.eu/vocabs/locations#OurServers\",\r\n      recipient: \"http://www.specialprivacy.eu/vocabs/recipients#Ours\",\r\n      timestamp: Date.now(),\r\n      instanceData: {\r\n        message: document.getElementById(\"textField\").value,\r\n        data: this.props.messageLogEntry,\r\n        type: requestTypes[this.props.subject],\r\n        typeId: this.props.subject,\r\n        date: Date.now(),  \r\n      },\r\n    };\r\n\r\n    var options = {\r\n      method: \"post\",\r\n      url: backendUrl + \"/log/push/raw\",\r\n      headers: defaultHeaders,\r\n      body: logEntry,\r\n      json: true\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n\r\n      if (!body.success) {\r\n        console.log(body.message);\r\n      } else {\r\n        self.props.addToData(logEntry);\r\n        console.log(body.message);\r\n      }\r\n      self.props.toggleSnackbar(body.message);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.messageOpen}\r\n        onRequestClose={this.props.handleMessageDialoge}\r\n        actions={[\r\n          <FlatButton\r\n            label=\"Cancel\"\r\n            secondary={true}\r\n            onClick={() => {\r\n              this.props.cancelCallback();\r\n              this.props.handleMessageDialoge();\r\n            }}\r\n          />,\r\n          <FlatButton\r\n            label=\"Send request\"\r\n            icon={<ActionSend />}\r\n            primary={true}\r\n            onClick={() => {\r\n              this.props.okCallback();\r\n              this.props.handleMessageDialoge();\r\n              this.sendMessage();\r\n            }}\r\n          />,\r\n        ]}\r\n      >\r\n        <TextField\r\n          id=\"textField\"\r\n          floatingLabelText=\"Message\"\r\n          multiLine={true}\r\n          fullWidth={true}\r\n          rows={2}\r\n          rowsMax={7}\r\n          defaultValue={this.props.text}\r\n        />\r\n      </Dialog>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MessageDialog;","import React, {Component} from \"react\";\r\nimport Card from \"material-ui/Card/Card\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport AppBar from \"material-ui/AppBar\";\r\nimport Divider from \"material-ui/Divider\";\r\nimport \"../styles/MainView.css\";\r\nimport StartpageIcon from \"material-ui/svg-icons/action/home\";\r\nimport MyProfileIcon from \"material-ui/svg-icons/action/account-circle\";\r\nimport ControllerIcon from \"material-ui/svg-icons/communication/business\";\r\nimport MyDataIcon from \"material-ui/svg-icons/action/assignment-ind\";\r\nimport LogIcon from \"material-ui/svg-icons/action/list\";\r\nimport PermissionsIcon from \"material-ui/svg-icons/action/gavel\";\r\nimport HelpIcon from \"material-ui/svg-icons/action/help\";\r\nimport FaqIcon from \"material-ui/svg-icons/communication/live-help\";\r\nimport Startpage from \"./Startpage\";\r\nimport MyProfile from \"./pages/subpages/MyProfile\";\r\nimport Controller from \"./pages/subpages/Controller\";\r\nimport MyData from \"./pages/subpages/MyData\";\r\nimport ActivityLog from \"./pages/subpages/ActivityLog\";\r\nimport Permissions from \"./pages/subpages/Permissions\";\r\nimport Help from \"./pages/subpages/Help\";\r\nimport Faq from \"./pages/subpages/Faq\";\r\nimport DpoView from \"./pages/subpages/DpoView\";\r\nimport IconButton from \"material-ui/IconButton\";\r\nimport IconMenu from \"material-ui/IconMenu\";\r\nimport MenuItem from \"material-ui/MenuItem\";\r\nimport MoreVertIcon from \"material-ui/svg-icons/navigation/more-vert\";\r\nimport ContentClear from \"material-ui/svg-icons/content/clear\";\r\nimport MessageDialog from \"../views/dialogs/MessageDialog\";\r\nimport Snackbar from \"material-ui/Snackbar\";\r\nimport { event2text, instanceDataToText } from \"../util/VocabLabelsGenerator\";\r\n\r\nclass MainView extends Component {\r\n\r\n  state = {\r\n    snackbarOpen: false,\r\n    snackbarMessage: \"\",\r\n\r\n    messageOpen: false,\r\n    messageSubject: -1,\r\n    messageText: \"\",\r\n    messageLogEntry: null,\r\n    messageOkCallback: null,\r\n    messageCancelCallback: null,\r\n  }\r\n\r\n  componentDidMount() {\r\n    const self = this;\r\n    window.onhashchange = () => {self.forceUpdate()}\r\n  }\r\n\r\n  toggleMessage = (type, logEntry, e, okCallback, cancelCallback) => {\r\n    var okFn = () => {}\r\n    var cnFn = okFn;\r\n    if (typeof okCallback !== \"undefined\") {\r\n      okFn = okCallback;\r\n    }\r\n    if (typeof cancelCallback !== \"undefined\") {\r\n      cnFn = cancelCallback;\r\n    }\r\n\r\n    this.setState({\r\n      messageOpen: true, \r\n      messageSubject: type,\r\n      messageText: this.formulateMessage(type, logEntry),\r\n      messageLogEntry: logEntry,\r\n      messageOkCallback: okFn,\r\n      messageCancelCallback: cnFn\r\n    });\r\n  };\r\n\r\n  handleMessageDialog = () => {\r\n    this.setState({messageOpen: false});\r\n  };\r\n\r\n  toggleSnackbar = (message) => {\r\n    this.setState({snackbarOpen: true, snackbarMessage: message})\r\n  }\r\n\r\n  handleSnackbar = () => {\r\n    this.setState({snackbarOpen: false});\r\n  }\r\n\r\n  formulateMessage = (sw, logEntry) => {\r\n      var content = \"Please respond to this request within one month (\" + new Date(Date.now() + 2592000000).toDateString() + \") according to the General Data Protection Regulation Article 12(3).\";\r\n      switch (sw) {\r\n          case 0:\r\n            content = \r\n              \"I hereby give consent in compliance with the General Data Protection Regulation Article 6(1) for the following processing of my personal data: \"\r\n              + \"\\r\\n\\r\\n\"\r\n              + event2text(logEntry, \"policy\", false, true);\r\n            break;        \r\n          case 1:\r\n            content = \r\n              \"I hereby withdraw consent prior given for the permission seen below according to the General Data Protection Regulation Article 7(3).\" \r\n              + \"\\r\\n\\r\\n\"\r\n              + event2text(logEntry, \"policy\", false, true) \r\n              + \"\\r\\n\\r\\n\"\r\n              + content;\r\n            break;\r\n          case 2:\r\n            content = \r\n              \"I hereby request rectification of my personal data (seen below) according to the General Data Protection Regulation Article 16.\" \r\n              + \"\\r\\n\\r\\n\"\r\n              + event2text(logEntry, \"\", false, true) \r\n              + \"\\r\\n\\r\\n\"\r\n              + instanceDataToText(logEntry.instanceData)\r\n              + \"\\r\\n\\r\\n\"\r\n              + content;\r\n            break;\r\n          case 3:\r\n            content = \"I hereby request erasure of my personal data (seen below) according to the General Data Protection Regulation Article 17.\" \r\n            + \"\\r\\n\\r\\n\"\r\n            + event2text(logEntry, \"\", false, true) \r\n            + \"\\r\\n\\r\\n\"\r\n            + instanceDataToText(logEntry.instanceData)\r\n            + \"\\r\\n\\r\\n\"\r\n            + content;\r\n            break;\r\n          default:\r\n            content = \"\";\r\n            break;\r\n      }\r\n      return content;\r\n  };  \r\n\r\n  GdprActionsMenu = (logEntry) => {\r\n    return (\r\n      <IconMenu\r\n        iconButtonElement={<IconButton style={{marginTop: \"-12px\", marginRight: \"-12px\"}}><MoreVertIcon/></IconButton>}\r\n        style={{position: \"absolute\", top: \"12px\", right: \"12px\"}}\r\n        targetOrigin={{horizontal: \"right\", vertical: \"bottom\"}}\r\n        anchorOrigin={{horizontal: \"right\", vertical: \"bottom\"}}\r\n        useLayerForClickAway={true}>\r\n        {/*<MenuItem leftIcon={<PanTool/>} onClick={this.toggleMessage.bind(null, 1, logEntry)}>Withdraw consent</MenuItem>*/}\r\n        {/*<MenuItem leftIcon={<ContentCreate/>} onClick={this.toggleMessage.bind(null, 2, logEntry)}>Rectify</MenuItem>*/}\r\n        <MenuItem leftIcon={<ContentClear/>} onClick={this.toggleMessage.bind(null, 3, logEntry)}>Erase</MenuItem>\r\n      </IconMenu>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const pages = {\r\n      \"#profile\": { \r\n        title: \"My profile\", \r\n        element: <MyProfile interestProfile={this.props.interestProfile} menu={this.GdprActionsMenu} />, \r\n        icon: <MyProfileIcon /> \r\n      },\r\n      \"#controller\": { \r\n        title: (this.props.application === null) ? \"About\" : \"About \" + this.props.application.name, \r\n        element: <Controller application={this.props.application} />, \r\n        icon: <ControllerIcon /> \r\n      },\r\n      \"#data\": { \r\n        title: \"My personal data\", \r\n        element: <MyData data={this.props.data} interestProfile={this.props.interestProfile} menu={this.GdprActionsMenu} />, \r\n        icon: <MyDataIcon /> \r\n      },\r\n      \"#log\": { \r\n        title: \"Activity log\", \r\n        element: <ActivityLog data={this.props.data} \r\n        application={this.props.application} />, \r\n        icon: <LogIcon /> \r\n      },\r\n      \"#permissions\": { \r\n        title: \"Permissions & policies\", \r\n        element: <Permissions policies={this.props.policies} toggleMessage={this.toggleMessage} formulateMessage={this.formulateMessage} />, \r\n        icon: <PermissionsIcon /> \r\n      },\r\n      \"#help\": { \r\n        title: \"Help\", \r\n        element: <Help />, \r\n        icon: <HelpIcon /> \r\n      },\r\n      \"#faq\": { \r\n        title: \"Frequently asked questions\", \r\n        element: <Faq />, \r\n        icon: <FaqIcon /> \r\n      },\r\n      \"#dpo\": { \r\n        title: \"Data Protection Officer view\", \r\n        element: <DpoView />, \r\n        icon: <FaqIcon /> \r\n      },\r\n    };\r\n\r\n    var page = {title: \"Home\", element: <Startpage pages={pages}/>, icon: <StartpageIcon/>}\r\n    if (pages.hasOwnProperty(window.location.hash)) {\r\n      page = pages[window.location.hash];\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <AppBar\r\n          className=\"md-up-appbar\"\r\n          title={(this.props.application === null) ? \"\": <span>{this.props.application.name} - Privacy Settings</span>}\r\n          showMenuIconButton={false}\r\n          iconElementRight={this.props.appBarMenu}\r\n        />\r\n        <Card containerStyle={{paddingBottom: \"0px\"}}>\r\n          <CardText id=\"content-container\" style={{paddingBottom: \"0px\"}}>\r\n            <h4><span className=\"headline\">{page.icon}{page.title}</span></h4>\r\n            <Divider/>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                {page.element}\r\n              </div>\r\n            </div>\r\n          </CardText>\r\n       </Card>\r\n       <MessageDialog\r\n          messageOpen={this.state.messageOpen}\r\n          subject={this.state.messageSubject}\r\n          text={this.state.messageText}\r\n          handleMessageDialoge={this.handleMessageDialog}\r\n          toggleSnackbar={this.toggleSnackbar}\r\n          messageLogEntry={this.state.messageLogEntry}\r\n          okCallback={this.state.messageOkCallback}\r\n          cancelCallback={this.state.messageCancelCallback}\r\n          addToData={this.props.addToData}\r\n        />\r\n        <Snackbar\r\n          open={this.state.snackbarOpen}\r\n          message={this.state.snackbarMessage}\r\n          autoHideDuration={4000}\r\n          onRequestClose={this.handleSnackbar}\r\n        />        \r\n\r\n        {/* TODO: update links, push things to GitHub special group */}\r\n        <div id=\"footer\">\r\n          <p>\r\n            <img src=\"https://www.specialprivacy.eu/images/ressources/EU_logos/eu.jpg\" alt=\"\"/>\r\n          </p>\r\n          <p>\r\n            This project received funding from the European Unions Horizon 2020 research and innovation programme under grant agreement\r\n            <a title=\"Cordis Europa\" href=\"http://cordis.europa.eu/project/rcn/206343_en.html\" rel=\"noopener noreferrer\" target=\"_blank\">&nbsp;No. 731601</a>\r\n          </p>\r\n          <p>\r\n            <a href=\"https://www.specialprivacy.eu/legal-notice\" rel=\"noopener noreferrer\" target=\"_blank\">Legal Notice</a> | \r\n            <a href=\"https://www.specialprivacy.eu/privacy-policy\" rel=\"noopener noreferrer\" target=\"_blank\">&nbsp;Privacy Policy</a>\r\n          </p>\r\n          <div style={{textAlign: \"center\"}}>\r\n            <h5>Documentation and reporting:</h5>\r\n              <p>\r\n                <b>D4.1 Transparency dashboard and control panel release V1 (M16)</b> |&nbsp;\r\n                <a href=\"https://www.specialprivacy.eu/images/documents/SPECIAL_D4.1_M16_V1.0.pdf\">Report</a> |&nbsp;\r\n                <a href=\"https://specialprivacy.github.io/D4.1-Privacy-Dashboard-DEMO/\">Demo</a> |&nbsp;\r\n                <a href=\"https://github.com/specialprivacy/D4.1-Privacy-Dashboard\">Source code</a>\r\n              </p>\r\n              <p>\r\n                <b>D4.2 Usability testing report V1 (M18)</b> |&nbsp;\r\n                <a href=\"https://www.specialprivacy.eu/images/documents/SPECIAL_D4.2_M18_V1.0.pdf\">Report</a> |&nbsp;\r\n                <a href=\"https://specialprivacy.github.io/D4.2-Privacy-Dashboard-DEMO/\">Demo</a> |&nbsp;\r\n                <a href=\"https://github.com/specialprivacy/D4.2-Privacy-Dashboard\">Source code</a>                \r\n              </p>\r\n              <p>\r\n                <b>D4.3 Transparency dashboard and control panel release V2 (M25)</b> |&nbsp;\r\n                <a href=\"https://www.specialprivacy.eu/images/documents/SPECIAL_D43_M25_V10.pdf\">Report</a> |&nbsp;\r\n                <a href=\"https://specialprivacy.github.io/D4.3-Privacy-Dashboard-DEMO/\">Demo</a> |&nbsp;\r\n                <a href=\"https://github.com/specialprivacy/D4.3-Privacy-Dashboard\">Source code</a>\r\n              </p>\r\n              <p>\r\n                <b>D4.4 Usability testing report V2 (M27)</b> |&nbsp;\r\n                <a href=\"https://www.specialprivacy.eu/images/documents/SPECIAL_D44_M27_V10.pdf\">Report</a> |&nbsp;\r\n                <a href=\"https://specialprivacy.github.io/D4.4-Privacy-Dashboard-DEMO/\">Demo</a> |&nbsp;\r\n                <a href=\"https://github.com/specialprivacy/D4.4-Privacy-Dashboard\">Source code</a>                \r\n              </p>\r\n              <p>\r\n                <b>D4.5 Transparency dashboard and control panel release final release (M35)</b> |&nbsp;\r\n                <a href=\"https://www.specialprivacy.eu/images/documents/SPECIAL_D45_M35_V10.pdf\">Report</a> |&nbsp;\r\n                <a href=\"https://specialprivacy.github.io/D4.5-Privacy-Dashboard-DEMO/\">Demo</a> |&nbsp;\r\n                <a href=\"https://github.com/specialprivacy/D4.5-Privacy-Dashboard\">Source code</a>\r\n              </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainView;\r\n","import React, { Component } from \"react\";\r\n\r\nimport List from \"material-ui/List/List\";\r\nimport ListItem from \"material-ui/List/ListItem\";\r\nimport Subheader from \"material-ui/Subheader\";\r\nimport Dialog from \"material-ui/Dialog\";\r\nimport Divider from \"material-ui/Divider\";\r\nimport Avatar from \"material-ui/Avatar\";\r\nimport FlatButton from \"material-ui/FlatButton\";\r\nimport IconButton from \"material-ui/IconButton\";\r\nimport Card from \"material-ui/Card/Card\";\r\nimport CardHeader from \"material-ui/Card/CardHeader\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport Toolbar from \"material-ui/Toolbar/Toolbar\";\r\nimport ToolbarTitle from \"material-ui/Toolbar/ToolbarTitle\";\r\nimport { theme, generateRandomKey } from \"../../AppContainer\";\r\n\r\nimport ArrowBack from \"material-ui/svg-icons/navigation/arrow-back\";\r\n\r\nclass MessageSection extends Component {\r\n\r\n  state = {\r\n    selectedItem: 0,\r\n  }\r\n\r\n  xsToggleClass = (flag) => {\r\n    if (flag) {\r\n      this.refs[\"message-list\"].classList.add(\"d-none\", \"d-lg-block\");\r\n      this.refs[\"message\"].classList.remove(\"d-none\", \"d-lg-block\");\r\n    } else {\r\n      this.refs[\"message-list\"].classList.remove(\"d-none\", \"d-lg-block\");\r\n      this.refs[\"message\"].classList.add(\"d-none\", \"d-lg-block\");\r\n    }\r\n  };\r\n\r\n  selectItem = (index) => {\r\n    this.xsToggleClass(true);\r\n    this.setState({ selectedItem: index });\r\n  };\r\n\r\n  renderListItem = (e, index) => {\r\n    var dateObj = new Date(e.date);\r\n    var date = dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString();\r\n    return (\r\n      <ListItem\r\n        key={generateRandomKey()}\r\n        primaryText={e.subject}\r\n        secondaryText={date}\r\n        leftAvatar={<Avatar>{e.subject.slice(0, 2).toUpperCase()}</Avatar>}\r\n        onClick={this.selectItem.bind(null, index)}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderCardItem = (e) => {\r\n    var dateObj = new Date(e.date);\r\n    var date = dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString();\r\n\r\n    return (\r\n      <Card\r\n        key={generateRandomKey()}\r\n        style={{ marginBottom: \"20px\" }}>\r\n        <CardHeader\r\n          title={e.subject}\r\n          subtitle={date}\r\n          avatar={<Avatar>{e.subject.slice(0, 2).toUpperCase()}</Avatar>}\r\n          actAsExpander={true}\r\n          showExpandableButton={true}\r\n        />\r\n        <CardText expandable={true}>{e.text}</CardText>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const self = this;\r\n\r\n    var messages = this.props.data\r\n      .filter((e) => (e.data === \"http://www.specialprivacy.eu/vocabs/data#Message\"))\r\n      .map((e) => {\r\n        return {\r\n          subject: (typeof e.instanceData.type !== \"undefined\" && e.instanceData.type !== null) ? e.instanceData.type : \"%SUBJECT%\",\r\n          date: (typeof e.instanceData.date !== \"undefined\" && e.instanceData.date !== null) ? e.instanceData.date : 0,\r\n          text: (typeof e.instanceData.message !== \"undefined\" && e.instanceData.message !== null) ? e.instanceData.message : \"%MESSAGE%\",\r\n          answers: (e.instanceData.hasOwnProperty(\"answers\")) ? e.instanceData.answers : [],\r\n        }\r\n      });\r\n\r\n    var unAnsweredMessages = messages.filter((e) => e.answers.length === 0);\r\n    var answeredMessages = messages.filter((e) => e.answers.length > 0);\r\n\r\n    return (\r\n      <Dialog\r\n        title={<div>Messages</div>}\r\n        open={this.props.messageSectionOpen}\r\n        onRequestClose={this.props.toggleMessageSectionOpen}\r\n        autoScrollBodyContent={true}\r\n        contentStyle={{ width: \"85%\", maxWidth: \"none\" }}\r\n        actions={[\r\n          <FlatButton\r\n            label=\"Close\"\r\n            primary={true}\r\n            onClick={this.props.toggleMessageSectionOpen}\r\n          />\r\n        ]}\r\n      >\r\n        <div className=\"row\" style={{ marginTop: \"20px\", marginBottom: \"20px\" }}>\r\n          <div ref=\"message-list\" className=\"col-lg-4\">\r\n            <List\r\n              style={{ border: \"1px solid rgb(224, 224, 224)\" }}\r\n            >\r\n              <Subheader>Pending requests</Subheader>\r\n              <Divider />\r\n              {\r\n                (unAnsweredMessages.length > 0) ?\r\n                  unAnsweredMessages\r\n                    .sort((a, b) => b.date - a.date)\r\n                    .map((e) => self.renderListItem(e, messages.indexOf(e)))\r\n                :\r\n                  <div style={{textAlign: \"center\", padding: \"20px\"}}><i>No pending messages.</i></div>\r\n              }\r\n              <Divider />\r\n              <Subheader>Answered requests</Subheader>\r\n              <Divider />\r\n              {\r\n                (answeredMessages.length > 0) ?\r\n                  answeredMessages\r\n                    .sort((a, b) => b.date - a.date)\r\n                    .map((e) => self.renderListItem(e, messages.indexOf(e)))\r\n                :\r\n                  <div style={{textAlign: \"center\", padding: \"20px\"}}><i>No answered messages.</i></div>\r\n              }\r\n            </List>\r\n          </div>\r\n          <div ref=\"message\" className=\"col-lg-8 d-none d-lg-block\">\r\n            {\r\n              (messages.length > 0) ?\r\n                <div>\r\n                  <Toolbar\r\n                    style={{\r\n                      height: \"48px\",\r\n                      boxShadow: \"rgba(0, 0, 0, 0.12) 0px 1px 6px, rgba(0, 0, 0, 0.12) 0px 1px 4px\",\r\n                      color: \"white\",\r\n                      background: theme.palette.primary1Color,\r\n                    }}>\r\n                    <IconButton\r\n                      tooltip=\"Back to messages\"\r\n                      className=\"d-sm-block d-lg-none\"\r\n                      onClick={this.xsToggleClass.bind(null, false)}\r\n                    >\r\n                      <ArrowBack />\r\n                    </IconButton>\r\n                    <ToolbarTitle text={\r\n                        <span>\r\n                          {messages[this.state.selectedItem].subject}\r\n                          &nbsp;from {\r\n                            new Date(messages[this.state.selectedItem].date).toLocaleDateString() \r\n                            + \" \" \r\n                            + new Date(messages[this.state.selectedItem].date).toLocaleTimeString()\r\n                          }\r\n                          <small>{(messages[this.state.selectedItem].answers.length === 0) ? \" (pending)\" : \" (answered)\"}</small>\r\n                        </span>\r\n                      }\r\n                    />\r\n                  </Toolbar>\r\n                  {\r\n                    messages[this.state.selectedItem]\r\n                      .answers\r\n                        .sort((a, b) => b.date - a.date)\r\n                        .map(this.renderCardItem)\r\n                  }\r\n                  {\r\n                    this.renderCardItem(messages[this.state.selectedItem])\r\n                  }\r\n                </div>\r\n              :\r\n                <div></div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </Dialog>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MessageSection;","import React, {Component} from \"react\";\r\nimport \"./styles/App.css\";\r\nimport {backendUrl, defaultHeaders} from \"./AppContainer\";\r\nimport MainMenu from \"./views/MainMenu\";\r\nimport MainView from \"./views/MainView\";\r\nimport Badge from \"material-ui/Badge\";\r\nimport CommunicationEmail from \"material-ui/svg-icons/communication/email\";\r\nimport MessageSection from \"./views/dialogs/MessageSectionDialog\";\r\nimport AppBar from \"material-ui/AppBar\";\r\nimport IconButton from \"material-ui/IconButton\";\r\nimport SignOut from \"material-ui/svg-icons/action/power-settings-new\";\r\n\r\nvar request = require(\"request\");\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    data: [],\r\n    numberMessages: 0,\r\n    showMessageBadge: false,\r\n    messageSectionOpen: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const self = this;\r\n\r\n    var options = {\r\n      method: \"get\",\r\n      url: backendUrl + \"/log/pull\",\r\n      headers: defaultHeaders,\r\n      qs: {\r\n        from: Date.now() - 1000 * 60 * 60 * 24 * 365 * 5,\r\n        to: Date.now()\r\n      },\r\n      json: true\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n\r\n      if (!body.success) {\r\n        self.setState({error: true, errorMsg: body.message});\r\n      } else {\r\n        self.setState({data: body.result});\r\n      }\r\n      self.forceUpdate();\r\n    });\r\n  }\r\n\r\n  addToData = (entry) => {\r\n    this.setState({data: this.state.data.concat([entry])});\r\n  }\r\n\r\n  toggleMessageSectionOpen = () => {\r\n    this.setState({messageSectionOpen: !this.state.messageSectionOpen});\r\n  };\r\n\r\n  AppBarMenu = <span>\r\n    <Badge\r\n      badgeContent={this.state.numberMessages}\r\n      secondary={true}\r\n      badgeStyle={{top: -4, right: -4,zIndex: 9}}\r\n      style={{padding: 0, display: (this.state.showMessageBadge) ? \"inline\" : \"none\"}}>\r\n        <IconButton\r\n          iconStyle={{color: \"white\"}}\r\n          onClick={this.toggleMessageSectionOpen}>\r\n          <CommunicationEmail/>\r\n        </IconButton>\r\n    </Badge>\r\n    <IconButton\r\n      iconStyle={{color: \"white\"}}\r\n      style={{display: (this.state.showMessageBadge) ? \"none\" : \"inline\"}}\r\n      onClick={this.toggleMessageSectionOpen}>\r\n      <CommunicationEmail/>\r\n    </IconButton>\r\n    <IconButton \r\n      className=\"logout-btn\"\r\n      tooltip=\"Sign out\" \r\n      tooltipPosition=\"top-center\" \r\n      onClick={() => {this.props.setLoggedIn(false, \"\")}}>\r\n      <SignOut/>\r\n    </IconButton>\r\n  </span>\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"main-container\" className=\"container-fluid\">\r\n        <AppBar\r\n          className=\"xs-sm-appbar\"\r\n          title={(this.props.application === null) ? \"\": <span>{this.props.application.name} - Privacy Settings</span>}\r\n          showMenuIconButton={false}\r\n          iconElementRight={this.AppBarMenu}\r\n        />\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3\">\r\n            <MainMenu \r\n              setLoggedIn={this.props.setLoggedIn}\r\n              application={this.props.application}\r\n            />\r\n          </div>\r\n\r\n          <div id=\"main-view-container\" className=\"col-lg-9\">\r\n            <MainView \r\n              appBarMenu={this.AppBarMenu} \r\n              data={this.state.data} \r\n              addToData={this.addToData}\r\n              setLoggedIn={this.props.setLoggedIn} \r\n              application={this.props.application}\r\n              policies={this.props.policies}\r\n              interestProfile={this.props.interestProfile}\r\n            />\r\n          </div>            \r\n        </div>\r\n        <MessageSection\r\n          data={this.state.data} \r\n          messageSectionOpen={this.state.messageSectionOpen}\r\n          toggleMessageSectionOpen={this.toggleMessageSectionOpen}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React, {Component} from \"react\";\r\nimport Card from \"material-ui/Card/Card\";\r\nimport CardText from \"material-ui/Card/CardText\";\r\nimport TextField from \"material-ui/TextField\";\r\nimport RaisedButton from \"material-ui/RaisedButton\";\r\nimport {theme, backendUrl, apiKey} from \"../AppContainer\";\r\nimport \"../styles/LoginForm.css\";\r\n\r\nvar request = require('request');\r\n\r\nclass LoginForm extends Component {\r\n\r\n  state = {\r\n    error: false,\r\n    errorMsg: \"\",\r\n    btnDisabled: true,\r\n  }\r\n\r\n  signIn = () => {\r\n    const self = this;\r\n    self.setState({error: false, errorMsg: \"\"});\r\n\r\n    var email = this.refs[\"inputEmail\"].input.value;\r\n    var password = this.refs[\"inputPassword\"].input.value;\r\n\r\n    var options = {\r\n      method: \"post\",\r\n      url: backendUrl + \"/authenticate\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"x-api-key\": apiKey\r\n      },\r\n      body: {\r\n        username: email,\r\n        password: password\r\n      },\r\n      json: true\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n\r\n      if (!body.success) {\r\n        self.setState({error: true, errorMsg: body.message});\r\n      } else {\r\n        self.props.setLoggedIn(true, body.result);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  handleTextInput = () => {\r\n    var email = this.refs[\"inputEmail\"].input.value;\r\n    var password = this.refs[\"inputPassword\"].input.value;\r\n\r\n    this.setState({btnDisabled: !(email !== \"\" && password !== \"\")});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-4 offset-xl-4 col-lg-6 offset-lg-3 col-sm-8 offset-sm-2\">\r\n            <Card id=\"login-form\" style={{padding: \"20px 70px\"}}>\r\n              <CardText>\r\n                <div className=\"row\">\r\n                  <img src={theme.logo} alt={theme.name} style={{maxWidth: \"95%\", maxHeight: \"225px\", margin: \"0 auto\", marginBottom: \"40px\"}} />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <h1>Sign in</h1>\r\n                </div>\r\n                <div className=\"row\">\r\n                  To access your privacy dashboard please log in with your service credentials.\r\n                </div>\r\n                <div className=\"row\"\r\n                  style={{display: (this.state.error) ? \"block\" : \"none\", color: \"red\", fontWeight: \"bold\", marginTop: \"20px\"}}>\r\n                    {this.state.errorMsg}\r\n                </div>\r\n                <div className=\"row\">\r\n                  <TextField\r\n                    ref=\"inputEmail\"\r\n                    floatingLabelText=\"Your email\"\r\n                    hintText=\"email@example.com\"\r\n                    fullWidth={true}\r\n                    onChange={this.handleTextInput}\r\n                  />\r\n                </div>                \r\n                <div className=\"row\">\r\n                  <TextField\r\n                    ref=\"inputPassword\"\r\n                    floatingLabelText=\"Password\"\r\n                    hintText=\"******\"\r\n                    type=\"password\"\r\n                    fullWidth={true}\r\n                    onChange={this.handleTextInput}\r\n                  />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <RaisedButton\r\n                    primary={true}\r\n                    label=\"Sign in\"\r\n                    onClick={this.signIn}\r\n                    style={{margin: \"0 auto\", marginTop: \"20px\"}}\r\n                    disabled={this.state.btnDisabled}\r\n                  />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <a href=\"#forgot-password\" style={{margin: \"0 auto\", marginTop: \"20px\"}}>I forgot my password.</a>\r\n                </div>\r\n                <div className=\"row\" style={{marginTop: \"20px\", textAlign: \"left\"}}>\r\n                  <small>\r\n                    This privacy dashboard is provided by {theme.name}.\r\n                    You can find more on <a href={theme.website} target=\"_blank\" rel=\"noopener noreferrer\">{theme.website}</a>.\r\n                    For further information, please contact <a href={\"mailto:\" + theme.email}>{theme.email}</a>.\r\n                  </small>\r\n                </div>\r\n              </CardText>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default LoginForm;","import {cyan500, grey300, white, darkBlack, fullBlack} from \"material-ui/styles/colors\";\r\nimport {fade} from \"material-ui/utils/colorManipulator\";\r\nimport spacing from \"material-ui/styles/spacing\";\r\n\r\nexport default {\r\n  background: \"rgb(244, 2, 137)\",\r\n  spacing: spacing,\r\n  apiKey: \"acadd8ae-1f8e-4148-9bb5-fe0d821e2a03\",\r\n  fontFamily: \"'Maven Pro', sans serif\",\r\n  borderRadius: 2,\r\n  palette: {\r\n    primary1Color: \"#239ADB\",\r\n    accent1Color: \"rgb(244, 2, 137)\",\r\n    textColor: darkBlack,\r\n    secondaryTextColor: fade(darkBlack, 0.54),\r\n    alternateTextColor: white,\r\n    canvasColor: white,\r\n    borderColor: grey300,\r\n    disabledColor: fade(darkBlack, 0.3),\r\n    pickerHeaderColor: cyan500,\r\n    clockCircleColor: fade(darkBlack, 0.07),\r\n    shadowColor: fullBlack,\r\n  },\r\n};","import {cyan500, grey300, white, darkBlack, fullBlack} from \"material-ui/styles/colors\";\r\nimport {fade} from \"material-ui/utils/colorManipulator\";\r\nimport spacing from \"material-ui/styles/spacing\";\r\n\r\nexport default {\r\n  background: \"linear-gradient(to top, rgb(92, 45, 145), rgb(0, 188, 238)\",\r\n  spacing: spacing,\r\n  apiKey: \"38895e56-554f-4ca0-ab1c-4716482d2882\",\r\n  fontFamily: \"'Maven Pro', sans serif\",\r\n  borderRadius: 2,\r\n  palette: {\r\n    primary1Color: \"#5C2D91\",\r\n    accent1Color: \"#00BCEE\",\r\n    textColor: darkBlack,\r\n    secondaryTextColor: fade(darkBlack, 0.54),\r\n    alternateTextColor: white,\r\n    canvasColor: white,\r\n    borderColor: grey300,\r\n    disabledColor: fade(darkBlack, 0.3),\r\n    pickerHeaderColor: cyan500,\r\n    clockCircleColor: fade(darkBlack, 0.07),\r\n    shadowColor: fullBlack,\r\n  },\r\n};","import {cyan500, grey300, white, darkBlack, fullBlack} from \"material-ui/styles/colors\";\r\nimport {fade} from \"material-ui/utils/colorManipulator\";\r\nimport spacing from \"material-ui/styles/spacing\";\r\n\r\nexport default {\r\n  background: \"#E20074\",\r\n  spacing: spacing,\r\n  fontFamily: \"'Maven Pro', sans serif\",\r\n  apiKey: \"d9fb8af0-dd06-4ea4-a010-75b2044c6a23\",\r\n  borderRadius: 2,\r\n  palette: {\r\n    primary1Color: \"#E20074\",\r\n    accent1Color: \"#333333\",\r\n    textColor: darkBlack,\r\n    secondaryTextColor: fade(darkBlack, 0.54),\r\n    alternateTextColor: white,\r\n    canvasColor: white,\r\n    borderColor: grey300,\r\n    disabledColor: fade(darkBlack, 0.3),\r\n    pickerHeaderColor: cyan500,\r\n    clockCircleColor: fade(darkBlack, 0.07),\r\n    shadowColor: fullBlack,\r\n  },\r\n};","import {cyan500, grey300, white, darkBlack, fullBlack} from \"material-ui/styles/colors\";\r\nimport {fade} from \"material-ui/utils/colorManipulator\";\r\nimport spacing from \"material-ui/styles/spacing\";\r\n\r\nexport default {\r\n  background: \"linear-gradient(to top, #F68912, #555555)\",\r\n  spacing: spacing,\r\n  apiKey: \"acadd8ae-1f8e-4148-9bb5-fe0d821e2a03\",\r\n  fontFamily: \"'Maven Pro', sans serif\",\r\n  borderRadius: 2,\r\n  palette: {\r\n    primary1Color: \"#F68912\",\r\n    accent1Color: \"#555555\",\r\n    textColor: \"#444444\",\r\n    secondaryTextColor: fade(darkBlack, 0.54),\r\n    alternateTextColor: white,\r\n    canvasColor: white,\r\n    borderColor: grey300,\r\n    disabledColor: fade(darkBlack, 0.3),\r\n    pickerHeaderColor: cyan500,\r\n    clockCircleColor: fade(darkBlack, 0.07),\r\n    shadowColor: fullBlack,\r\n  },\r\n};","import React, {Component} from 'react';\r\nimport App from \"./App\";\r\nimport LoginForm from './views/LoginForm';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport getMuiTheme from \"material-ui/styles/getMuiTheme\";\r\nimport specialTheme from \"./themes/specialTheme\";\r\nimport proximusTheme from \"./themes/proximusTheme\";\r\nimport tlabsTheme from \"./themes/tlabsTheme\";\r\nimport reutersTheme from \"./themes/reutersTheme\";\r\n\r\nexport var theme = specialTheme;\r\nvar request = require(\"request\");\r\n\r\nvar bUrl = \"\";\r\nif (process.env.NODE_ENV === \"production\") {\r\n  bUrl = \"https://special.raschke.cc/api\";\r\n} else {\r\n  bUrl = \"https://special.raschke.cc/api\";\r\n}\r\n\r\nexport const backendUrl = bUrl;\r\n\r\nconst themes = {\r\n  special: specialTheme,\r\n  proximus: proximusTheme,\r\n  tlabs: tlabsTheme,\r\n  reuters: reutersTheme\r\n}\r\n\r\nvar key = \"acadd8ae-1f8e-4148-9bb5-fe0d821e2a03\";\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nif (urlParams.get(\"theme\") !== null && themes.hasOwnProperty(urlParams.get(\"theme\"))) {\r\n  key = themes[urlParams.get(\"theme\")].apiKey;\r\n}\r\nexport const apiKey = key;\r\n\r\nvar appUrl;\r\nif (urlParams.get(\"backToAppUrl\") !== null) {\r\n  appUrl = urlParams.get(\"backToAppUrl\");\r\n}\r\nexport const backToAppUrl = appUrl;\r\n\r\nexport var defaultHeaders = {\r\n  \"Authorization\": \"Bearer \" + window.localStorage.getItem(apiKey + \":token\"),\r\n  \"Content-Type\": \"application/json\",\r\n  \"x-api-key\": apiKey\r\n};\r\n\r\nclass AppContainer extends Component {\r\n\r\n  state = {\r\n    theme: specialTheme,\r\n    loggedIn: false,\r\n    application: null,\r\n    policies: null,\r\n    interestProfile: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    var token = window.localStorage.getItem(apiKey + \":token\");\r\n    if (token !== null) {\r\n      this.setLoggedIn(true, token);\r\n    }\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    if (urlParams.get(\"theme\") !== null && themes.hasOwnProperty(urlParams.get(\"theme\"))) {\r\n      this.setState({theme: themes[urlParams.get(\"theme\")]});\r\n      theme = themes[urlParams.get(\"theme\")];\r\n    }\r\n  }\r\n\r\n  getInterestProfile = () => {\r\n    const self = this;\r\n\r\n    var options = {\r\n      method: \"get\",\r\n      url: backendUrl + \"/user\",\r\n      qs: {\r\n        attribute: \"interest-profile\"\r\n      },\r\n      headers: defaultHeaders,\r\n      json: true\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n      if (!body.success) {\r\n        console.log(body.message);\r\n      } else {\r\n        self.setState({interestProfile: body.result});\r\n        self.forceUpdate();\r\n      }\r\n    });    \r\n  }\r\n\r\n  getApplication = () => {\r\n    const self = this;\r\n\r\n    var options = {\r\n      method: \"get\",\r\n      url: backendUrl + \"/application\",\r\n      headers: defaultHeaders,\r\n      json: true\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n      if (!body.success) {\r\n        console.log(body.message);\r\n      } else {\r\n        self.setState({application: body.result});\r\n        self.forceUpdate();\r\n      }\r\n    });    \r\n  }\r\n\r\n  getPolicies = () => {\r\n    const self = this;\r\n\r\n    var options = {\r\n      method: \"get\",\r\n      url: backendUrl + \"/consent\",\r\n      headers: defaultHeaders,\r\n    }\r\n    request(options, function(err, res, body) {\r\n      if (err) {\r\n        return\r\n      }\r\n      body = JSON.parse(body);\r\n      if (!body.success || typeof body.result === \"undefined\") {\r\n        console.log(body.message);\r\n      } else {\r\n        self.setState({policies: body.result});\r\n        self.forceUpdate();\r\n      }\r\n    });    \r\n  }\r\n\r\n  setLoggedIn = (loggedIn, token) => {\r\n    if (loggedIn) {\r\n      window.localStorage.setItem(apiKey + \":token\", token);\r\n      defaultHeaders.Authorization = \"Bearer \" + window.localStorage.getItem(apiKey + \":token\");\r\n      this.getApplication();\r\n      this.getPolicies();  \r\n      this.getInterestProfile();  \r\n    } else {\r\n      window.localStorage.removeItem(apiKey + \":token\");\r\n    }\r\n    this.setState({loggedIn: loggedIn, application: null, policies: null, interestProfile: null});\r\n  }\r\n\r\n  render() {\r\n    var content;\r\n    if (!this.state.loggedIn) {\r\n      content = <LoginForm setLoggedIn={this.setLoggedIn} application={this.state.application} />\r\n    } else {\r\n      content = \r\n        <App \r\n          setLoggedIn={this.setLoggedIn} \r\n          application={this.state.application} \r\n          policies={this.state.policies}\r\n          interestProfile={this.state.interestProfile}\r\n        />\r\n    }\r\n\r\n    return (\r\n      <MuiThemeProvider muiTheme={getMuiTheme(this.state.theme)}>\r\n        <div>\r\n          <div className=\"background-container\">\r\n            <div className=\"background-image\" style={{background: theme.background}}/>\r\n          </div>\r\n          {content}\r\n        </div>\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContainer;\r\n\r\n\r\n// https://stackoverflow.com/a/27747377\r\nfunction dec2hex(dec) {\r\n  return (\"0\" + dec.toString(16)).substr(-2);\r\n}\r\n\r\nexport const generateRandomKey = () => {\r\n  var arr = new Uint8Array((12 || 40) / 2);\r\n  window.crypto.getRandomValues(arr);\r\n  return Array.from(arr, dec2hex).join(\"\");\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport AppContainer from \"./AppContainer\";\r\n\r\nReactDOM.render(<AppContainer />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}